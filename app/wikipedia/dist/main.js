"use strict";window.wbk=WBK({instance:datasources.wikidata.instance,sparqlEndpoint:datasources.wikidata.endpoint});let current_pane="",parentref="",utterance;const explore_default={host:CONZEPT_HOSTNAME,base:CONZEPT_WEB_BASE,version:CONZEPT_VERSION,title:getParameterByName("t")||"",language:getParameterByName("l")||"en",lang3:getParameterByName("lang3")||"",language_direction:getParameterByName("dir")||"",voice_code:getParameterByName("voice")||"",voice_rate:getParameterByName("rate")||"1",voice_pitch:getParameterByName("pitch")||"1",autospeak_global:"",hash:location.hash.substring(1)||"",qid:getParameterByName("qid")||"",embedded:getParameterByName("embedded")||"",tutor:getParameterByName("tutor")||"default",tags:valid(getParameterByName("tags"))?getParameterByName("tags").split(","):[],languages:[],languages_with_variants:["zh"],language_variant:getParameterByName("ws")||"",firstVisit:!0,locale:getParameterByName("locale")||"en",fontsize:getParameterByName("fs")||"19",font1:getParameterByName("font")||CONZEPT_FONT,darkmode:getParameterByName("darkmode")||!1,isMobile:getParameterByName("mobile")||detectMobile(),bread:!1,db:void 0,locales:["ceb","en","es","de","fr","hi","ja","nl","pt","ru"],banana:void 0,banana_native:void 0,language_script:"",language_name:"",language_prev:"",langcode3:void 0,langcode_librivox:void 0,lang_category:void 0,lang_catre1:void 0,lang_catre2:void 0,lang_portal:void 0,lang_porre1:void 0,lang_book:void 0,lang_bookre:void 0,lang_talk:void 0,lang_talkre:void 0,isSafari:detectSafari(),isChrome:detectChrome(),isFirefox:detectFirefox(),wp_languages,tts_enabled:!0,synth_paused:!1,tts_removals:"table, sub, sup, style, .internal.hash, .rt-commentedText, .IPA, .catlink, .notts, #coordinates, .navbox-block",autospeak:getParameterByName("autospeak")||!1,autospeak_section:getParameterByName("autospeak_section")||"",keyboard_ctrl_pressed:!1,ld:{},bookmarks:[]};explore={...explore,...explore_default},explore.synth=window.speechSynthesis,$(document).ready(function(){current_pane=getCurrentPane(),$("#tutor-style").text(`${explore.tutor}`),setupAppKeyboardNavigation(),setupAutoStopAudio(),explore.language_direction===""&&["ar","arz","bal","bgn","ckb","fa","khw","ps","sd","ur","he","yi","arc","dv"].includes(explore.language)&&(explore.language_direction="rtl"),explore.locale==="simple"&&(explore.locale="en"),explore.title=explore.title.charAt(0).toUpperCase()+explore.title.slice(1),explore.isMobile&&explore.isChrome&&(explore.tts_enabled=!1),explore.isMobile&&setupSwipe("wikipedia-content"),(async()=>{explore.db=ImmortalDB.ImmortalDB,explore.voice_code===""&&(explore.voice_code=await explore.db.get("voice_code_selected"),explore.voice_code=explore.voice_code===null||explore.voice_code===void 0?"":explore.voice_code),explore.autospeak_global===""&&(explore.autospeak_global=await explore.db.get("autospeak"),explore.autospeak_global=explore.autospeak_global===null||explore.autospeak_global===void 0?"":explore.autospeak_global),valid(getParameterByName("darkmode"))||(explore.darkmode=await explore.db.get("darkmode"),explore.darkmode=!(explore.darkmode===null||explore.darkmode==="false"),valid(explore.darkmode)&&$("body").addClass("dark")),explore.bread=await explore.db.get("bread"),explore.bread=explore.bread===null||explore.bread===void 0?!1:explore.bread,explore.language_variant===""&&explore.languages_with_variants.includes(explore.language)&&(explore.language_variant=await explore.db.get("language-variant-"+explore.language),explore.language_variant=explore.language_variant===null||explore.language_variant===void 0?"":explore.language_variant),explore.bookmarks=await explore.db.get("bookmarks"),explore.bookmarks=explore.bookmarks===null||explore.bookmarks===void 0?[]:JSON.parse(explore.bookmarks),explore.lang3=getLangCode3(explore.language);const e=await explore.db.get("voice_rate");isNumeric(e)&&(explore.voice_rate=e);const t=await explore.db.get("voice_pitch");if(isNumeric(t)&&(explore.voice_pitch=t),explore.font1=await explore.db.get("font1"),explore.font1!==CONZEPT_FONT?(valid(explore.font1)||(explore.font1=CONZEPT_FONT),$("#fontlink").replaceWith('<link id="fontlink" href="https://fonts.googleapis.com/css?family='+explore.font1+':400,500&display=swap&subset=latin-ext" rel="stylesheet" type="text/css">'),$("#fontlink").replaceWith('<link id="fontlink" href="https://fonts.googleapis.com/css?family='+explore.font1+':400,500&display=swap&subset=latin-ext" rel="stylesheet" type="text/css">'),$("body").css("fontFamily",explore.font1,"")):$("#fontlink").replaceWith("<link id=fontlink />"),explore.linkpreview=await explore.db.get("linkpreview"),explore.fontsize=await explore.db.get("fontsize"),$("body").css("fontSize",explore.fontsize+"px"),explore.banana=new Banana(explore.locale,{finalFallback:"en"}),explore.banana_native=new Banana(explore.locale,{finalFallback:"en"}),updateLocaleNative(),explore.qid==="-1"&&(explore.qid=""),!valid(explore.qid)&&valid(explore.title)){let o=await checkForQid();if(o.hasOwnProperty("entities")){const i=Object.keys(o.entities)[0];isQid(i)&&(explore.qid=i,$("#gotoWikipedia").before('<span id="gotoCommons"><button onclick="gotoCommons()" onauxclick="gotoCommons( true )" class="dropbtn" tabIndex="0" title="Wikimedia Commons images" aria-label="Wikimedia Commons images"><span class="icon"><i class="fa-regular fa-images"></i></span></button></span> '),$("#gotoWikipedia").after('<span id="gotoWikidata"><button onclick="gotoWikidata()" onauxclick="gotoWikidata( true )"class="dropbtn" tabIndex="0" title="go to Wikidata" aria-label="go to Wikidata"><span class="icon"><i class="fa-solid fa-barcode"></i></span></button></span> '))}}if(window.addEventListener("message",receiveMessage,!1),$.ajaxSetup({beforeSend:function(o){o.overrideMimeType&&o.overrideMimeType("application/json")}}),explore.title===""&&explore.qid==="")return 0;if(explore.qid!=="")explore.qid.startsWith("Q")||(explore.qid="Q"+explore.qid),getWikidata_(explore.qid);else{let o="";explore.embedded?o=decodeURI(o):o=encodeURIComponent(explore.title);const i=`https://${explore.language}.${datasources.wikipedia.endpoint}?action=query&titles=' + title + '&prop=langlinks&lllimit=500&format=json`;$.ajax({url:i,dataType:"jsonp",success:function(s){if(typeof s===void 0||typeof s>"u")console.log("no Wikipedia pages defined 1"),valid(explore.qid)&&window.open(`https://${explore.host}${explore.base}/app/wikidata/?q=${explore.qid}&lang=${explore.language}`,"_self");else if(typeof s.query.pages[Object.keys(s.query.pages)[0]]===void 0)console.log("no Wikipedia pages defined 2"),valid(explore.qid)&&window.open(`https://${explore.host}${explore.base}/app/wikidata/?q=${explore.qid}&lang=${explore.language}`,"_self");else{let l={};$.each(s.query.pages[Object.keys(s.query.pages)[0]].langlinks,function(c,u){l[u.lang]=u["*"]}),explore.languages=encodeURIComponent(JSON.stringify(l)),renderWikiArticle(explore.title,explore.language,explore.hash,explore.languages,explore.tags,"","",!1,"")}}})}})(),$(document).keydown(function(e){(e.keyCode?e.keyCode:e.which)=="70"&&!detectSpecialKeyPressed(e)&&document.toggleFullscreen()})});function checkForQid(){let e="";return explore.embedded?e=decodeURI(explore.title):e=encodeURIComponent(explore.title),$.ajax({url:datasources.wikidata.instance_api+"?action=wbgetentities&sites="+explore.language+"wiki&format=json&normalize=true&titles="+e,dataType:"jsonp",success:function(t){if(!(typeof t.entities===void 0||typeof t.entities>"u")){const o=Object.keys(t.entities)[0];if(o.startsWith("Q")){let i=fetchWikidata([o],"","wikipedia","ps2")}}}})}function getWikidata_(e){const t=window.wbk.getEntities({ids:[e],redirections:!1});fetch(t).then(o=>o.json()).then(window.wbk.parse.wd.entities).then(o=>{let i={qid:e};setWikidata(i,o[i.qid],!0,current_pane,afterSetWikidata)})}function afterSetWikidata(e){if(explore.languages=e.languages,valid(e.title)){explore.tutor==="auto-select"&&(explore.tutor=getTutor(e)),$("#tutor-style").text(`${explore.tutor}`),explore.title=e.title,explore.tags=e.tags.filter(Boolean);let t="",o="";valid(e.gbif_id)&&(t=e.gbif_id),valid(e.page_banner)&&(o=e.page_banner),explore.ld.title=valid(e.title)?e.title:"",explore.ld.tags=e.tags.filter(Boolean),explore.ld.qid=valid(e.qid)?e.qid:"",explore.ld.thumbnailUrl=valid(e.image)?e.image:"",explore.ld.image=valid(e.image_full)?e.image_full:"",explore.ld.description=valid(e.description)?e.description:"",explore.ld.google_kg=valid(e.google_knowledge_graph)?e.google_knowledge_graph:"",explore.ld.website=valid(e.website)?Object.values(e.website):[],renderWikiArticle(explore.title,explore.language,explore.hash,explore.languages,explore.tags,e.qid,t,!1,o)}else window.location.href="../wikidata/?q="+explore.qid+"&lang="+explore.language}function updateLocaleNative(){let e=explore.language;e==="simple"&&(e="en"),explore.banana_native.setLocale(e),explore.locales.includes(e)&&fetch("../explore2/assets/i18n/ui/conzept-"+e+".json?"+explore.version).then(t=>t.json()).then(t=>{explore.banana_native.load(t,e)})}function getTitleFromQid(e){}function renderWikiArticle(e,t,o,i,s,l,c,u,w){let p={};p.title="",p.html="",$.ajax({url:`https://${explore.language}.${datasources.wikipedia.endpoint}?action=parse&page=${encodeURIComponent(e)}&prop=text&formatversion=2&format=json&redirects=&variant=${explore.language_variant}`,dataType:"jsonp",success:function(n){n===null&&(n=void 0),(explore.language===void 0||explore.language==="undefined")&&(explore.language=window.language="en"),e.startsWith(explore.lang_category+":")?$.ajax({url:`https://${explore.language}.${datasources.wikipedia.endpoint}`,dataType:"jsonp",data:{action:"query",format:"json",list:"categorymembers",cmlimit:300,cmtitle:decodeURIComponent(e),cmnamespace:"0|14|100"},success:function(d){renderWikipediaHTML(e,t,o,p,"category",d.query.categorymembers,"",i,s,l,c,w)},error:function(d){console.log("Category JSON fetch error: "+errorMessage)}}):$.ajax({url:`https://${explore.language}.${datasources.wikipedia.endpoint}`,dataType:"jsonp",data:{action:"query",format:"json",list:"categorymembers",cmlimit:300,cmtitle:decodeURIComponent(explore.lang_category+":"+e),cmnamespace:"0|14"},success:function(d){if(typeof d.query===void 0||typeof d.query>"u")console.log("warning: no pages.query results found"),valid(explore.qid)&&window.open(`https://${explore.host}${explore.base}/app/wikidata/?q=${explore.qid}&lang=${explore.language}`,"_self");else if(typeof n.query===void 0||typeof n.query>"u"||typeof n.query.redirects[0].to===void 0||(p.title=n.query.redirects[0].to||""),typeof n.parse===void 0||typeof n.parse>"u"||typeof n.parse.title===void 0||(p.title=n.parse.title),e==p.title||u===!1){if(typeof n.parse===void 0||typeof n.parse>"u")return valid(explore.qid)?(console.log("goto Wikidata"),window.location.href=explore.base+`/app/wikidata/?q=${explore.qid}&lang=${explore.language}`):(console.log("Wikipedia app: no article found for: ",explore.language,explore.title),window.location.href=explore.base+"/pages/blank.html"),$("#loader").hide(),1;p.html=n.parse.text,p===void 0?(explore.noWikipediaContentYet=!0,console.log("doc undefined"),valid(explore.qid)&&window.open(`https://${explore.host}${explore.base}/app/wikidata/?q=${explore.qid}&lang=${explore.language}`,"_self")):(explore.noWikipediaContentYet=!1,renderWikipediaHTML(p.title,t,o,p,"standard-with-category",d.query.categorymembers,"",i,s,l,c,w))}else return console.log("Hmmm... redirect found: fetch wikidata for it: ",p.title,e),0},error:function(d){console.log("error fetching wikipedia data")}})}})}function renderWikipediaHTML(e,t,o,i,s,l,c,u,w,p,n,d){const B="https://"+t+".wikipedia.org/wiki/"+e,T="https://"+t+".wikipedia.org/w/index.php?title="+e+"&action=history",j=explore.isMobile?t:getNamefromLangCode2(explore.language);let k='<body id="wikipedia-content"></span><h2 class="article-title">'+e+"</h2> <!--catheadline-->"+i.html+"</body>",x='<div class="catheadline"><ul class="notts">',_=[];const O=`https://${explore.language}.${datasources.wikipedia.endpoint}?action=query&format=json&titles=${encodeURIComponent(e)}&prop=categories`;$.ajax({url:O,dataType:"jsonp",success:function(h){typeof h.query.pages===void 0||typeof h.query.pages>"u"||valid(h.query.pages)&&valid(Object.keys(h.query.pages)[0])&&valid(h.query.pages[Object.keys(h.query.pages)[0]].categories)&&(_=h.query.pages[Object.keys(h.query.pages)[0]].categories.map(g=>g.title));let m="",C=0;for(let g=0;g<_.length;++g){const a=encodeURIComponent(_[g]);let r=_[g].replace(explore.lang_catre1,"");e===a?m+='<li class="notts"><a class="link catlink" href="'+a+'"><b>  <span class="icon"><i class="fa-regular fa-folder-open fa-xs">&nbsp; </i></span> '+r+"</b></a></li>":m+='<li class="notts"><a class="link catlink" href="'+a+'">  <span class="icon"><i class="fa-regular fa-folder-open fa-xs">&nbsp; </i></span> '+r+"</a></li>",C<3&&(a.startsWith(explore.lang_category+"%3AWikipedia")||a.startsWith(explore.lang_category+"%3ACS1")||a.startsWith(explore.lang_category+"%3A!")||a.startsWith(explore.lang_category+"%3APages%20")||a.startsWith(explore.lang_category+"%3AWebarchive%20")||a.startsWith(explore.lang_category+"%3ACite%20")||a.startsWith(explore.lang_category+"%3ATemplate%20")||a.endsWith("%20errors")||a.endsWith("%20Wikidata")||a.endsWith("%20categories")||a.endsWith("%20pages")||a.endsWith("uncertain")||a.startsWith(explore.lang_category+"%3AAll%20")||a.startsWith(explore.lang_category+"%3AArticles%20")||a.startsWith(explore.lang_category+"%3ABurials%20at")||a.startsWith(explore.lang_category+"%3ABurials%20in")||a.startsWith(explore.lang_category+"%3APeople%20from")||a.startsWith(explore.lang_category+"%3AGood%20articles")||a.startsWith(explore.lang_category+"%3AAC%20with%20")||a.startsWith(explore.lang_category+"%3AUse%20")||a.endsWith("births")||a.endsWith("deaths")||a.endsWith("alumni")||a.endsWith("people")||a.startsWith("Cat%C3%A9gorie%3AArticle%20")||a.startsWith("Cat%C3%A9gorie%3APage%20")||a.startsWith("Cat%C3%A9gorie%3APortail%3A")||(C+=1,x+='<li class="notts"><a class="link catlink" href="'+a+'"><span class="icon"><i class="fa-regular fa-folder-open fa-xs"></i></span>&nbsp; '+r+"</a></li>"))}x+="</ul></div>";const W=x.match(/<ul class="notts"><\/ul>/g);W!==null&&W.length>0&&(x=""),x.length<33&&(x="");let y="",b="",f="",I="super",v="<h1>"+decodeURIComponent(e)+"</h1>";if(s==="portal")v="",x="";else if(s==="book")v="",x="";else if(s==="category"){v='<h2> <span class="icon"><i class="fa-regular fa-folder-open fa-xs">&nbsp; </i></span> '+decodeURIComponent(e.replace(explore.lang_catre1,""))+"</h2>",I="";const g="^"+explore.lang_category+":",a=new RegExp(g,"g");for(let r=0;r<l.length;++r)if(l[r].ns===14){const P=l[r].title.replace(explore.lang_catre1,"");y+='<li class="notts"><a class="link catlink" href="'+encodeURIComponent(l[r].title)+'"> <span class="icon"><i class="fa-regular fa-folder-open fa-xs">&nbsp; </i></span> '+P+"</a></li>"}else decodeURIComponent(e.replace(explore.lang_catre2,""))===l[r].title?b+='<li class="notts"><a class="link catlinks" href="'+encodeURIComponent(l[r].title)+'"><b>'+l[r].title+"</b></a></li>":b+='<li class="notts"><a class="link catlink" href="'+encodeURIComponent(l[r].title)+'">'+l[r].title+"</a></li>";m!==""&&(f+='<div class="catheadline"><ul class="notts">'+m+"</ul></div>"),y!==""&&(f+='<h3 class="catheader">sub </h3><ul class="foldercats subs notts">'+y+"</ul>"),b!==""&&(f+='<h3 class="catheader">pages</h3><ul class="notts">'+b+"</ul>")}else if(s==="standard-with-category"){typeof n===void 0||typeof n>"u"||n===""||n===!0||n===!1||(f+=renderEmbeddedGbifMap(n,e)),I="super";for(let a=0;a<l.length;++a)if(l[a].ns===14){const r=l[a].title.replace(explore.lang_catre1,"");y+='<li class="notts"><a class="link catlink" href="'+l[a].title+'"> <span class="icon"><i class="fa-regular fa-folder-open fa-xs">&nbsp; </i></span> '+r+"</a></li>"}else decodeURIComponent(e.replace(/Category%3A/,""))===l[a].title?b+='<li class="notts"><a class="link catlink" href="'+encodeURIComponent(l[a].title)+'"><b>'+l[a].title+"</b></a></li>":b+='<li class="notts"><a class="link catlink" href="'+encodeURIComponent(l[a].title)+'">'+l[a].title+"</a></li>";const g=explore.language==="en"?"Categories":explore.lang_category;f+='<div class="section"> <h2 class="catheader">'+g+"</h2>",m!==""&&(f+='<h3 class="catheader">super</h3><div class="categories"><div class="catheadline"><ul class="foldercats">'+m+"</ul></div></div>"),y!==""&&(f+='<h3 class="catheader">sub </h3><ul class="foldercats subs">'+y+"</ul>"),b!==""&&(f+='<h3 class="catheader">pages</h3><ul>'+b+"</ul>"),f+="</div>",k=k.replace(/<\!--catheadline-->/,x)}const L=explore.darkmode?"dark":"";c=c.replace(/\/wiki\//g,"/explore/"),k=k.replace(/\/wiki\//g,"/explore/").replace(/listaref/g,"listaref reflist").replace(/references-small/g,"references-small reflist").replace(/infobox_v2/g,"infobox").replace(/infobox_v3/g,"infobox").replace(/"tright"/g,'"tright infobox"').replace(/infocaseta/g,"infobox infocaseta").replace(/legende-bloc/g,"legend legende-bloc");let A='<link id="fontlink" />';explore.font1!==CONZEPT_FONT&&(A='<link id="fontlink" href="https://fonts.googleapis.com/css?family='+explore.font1+':400,500&display=swap&subset=latin-ext" rel="stylesheet" type="text/css">');let N="";typeof d===void 0||typeof d>"u"||d!==""&&(N='<img id="article-banner" class="no-enlarge" src="'+d+'"></img>');const E=valid(explore.qid)?'<span id="gotoWikidata"><button onclick="gotoWikidata()" onauxclick="gotoWikidata( true )"class="dropbtn" tabIndex="0" title="go to Wikidata" aria-label="go to Wikidata"><span class="icon"><i class="fa-solid fa-barcode"></i></span></button></span> ':"",S=valid(explore.qid)?'<span id="gotoCommons"><button onclick="gotoCommons()" onauxclick="gotoCommons( true )" class="dropbtn" tabIndex="0" title="Wikimedia Commons images" aria-label="Wikimedia Commons images"><span class="icon"><i class="fa-regular fa-images"></i></span></button></span> ':"",z=current_pane!=="ps2"?'<span id="showAI"><button onclick="showAI()" onauxclick="showAI()" class="dropbtn" tabIndex="0" title="show AI tasks" aria-label="show AI tasks"><span class="icon"><i class="fa-solid fa-wand-sparkles"></i></span></button></span>':"",R=valid(explore.qid)?'<span id="gotoPresentation"><button onclick="gotoPresentation()" onauxclick="gotoPresentation( true )" class="dropbtn" tabIndex="0" title="topic presentation" aria-label="topic presenation"><span class="icon"><i class="fa-solid fa-chalkboard-user"></i></span></button></span> ':"",U=explore.language==="zh"&&current_pane!=="ps2"?'<span id="showLanguageVariants"><button onclick="showLanguageVariants()" onauxclick="showLanguageVariants()" class="dropbtn" tabIndex="0" title="switch language variant" aria-label="switch language variant"><span class="icon"><i class="fa-solid fa-language"></i></span></button>':"";let q="";findObjectByKey(explore.bookmarks,"name",e).length>0&&$.each(findObjectByKey(explore.bookmarks,"name",e),function(g,a){a.language===explore.language&&(valid(a.qid)?a.qid===explore.qid&&(q="bookmarked"):q="bookmarked")}),k=k.replace(/<body id="wikipedia-content">/,'<a id="skip-nav" class="screenreader-text" title="skip to main content" aria-label="skip to main content" href="#main-content">skip to main content</a>'+A+'<a href="javascript:void(0)" id="fullscreenToggle" onclick="document.toggleFullscreen()" class="global-actions"><i id="fullscreenIcon" title="fullscreen toggle" class="fa-solid fa-expand"></i></a><script> let language = "'+t+'"; let locale =  "'+explore.locale+'"; let title =  "'+e+'"; let qid =  "'+explore.qid+'"; let languages =  "'+u+'"; let font1 =  "'+explore.font1+'"; let darkmode = '+explore.darkmode+'; <\/script><meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, user-scalable=1, minimum-scale=1.0, maximum-scale=5.0"><style>html{visibility: hidden;opacity:0;}</style><aside class="js-toc"> </aside><main class="explore" role="main"><div id="openseadragon" style="display:none; width: 100vw; height: 100vh;"><img id="loader-openseadragon" class="no-enlarge" style="position: fixed; top: 50%; left: 10%; transform: translate(-50%, -50%); z-index: 999999; width: 100px; height: 100px;" alt="loading" src="../explore2/assets/images/loading.gif"/></div><div id="wikipedia-menu"><span id="exploreTopic"><button onclick="goExplore()" onauxclick="goExplore(true)" class="dropbtn" tabIndex="0" title="explore this topic" aria-label="explore this topic"><span class="icon"><i class="fa-solid fa-retweet"></i></span></button></span> <span id="newTab"><button onclick="openInNewTab( &quot;https://'+CONZEPT_HOSTNAME+CONZEPT_WEB_BASE+"/explore/"+encodeURIComponent(e)+"?l="+explore.language+"&t=wikipedia&i="+explore.qid+'&quot;)" onauxclick="openInNewTab( &quot;https://'+CONZEPT_HOSTNAME+CONZEPT_WEB_BASE+"/explore/"+encodeURIComponent(e)+"?l="+explore.language+"&t=wikipedia&i="+explore.qid+'&quot;)" class="dropbtn" tabIndex="0" title="open in new tab"><span class="icon"><i class="fa-solid fa-external-link-alt"></i></span></button></span><span id="bookmarkToggle"><button onclick="bookmarkToggle()" onauxclick="" class="dropbtn" tabIndex="0" title="bookmark topic" aria-label="bookmark topic"><span class="icon"><i class="bookmark-icon fa-solid fa-bookmark '+q+'"></i></span></button></span> <span id="gotoVideo"><button onclick="gotoVideo()" onauxclick="gotoVideo( true )" class="dropbtn" tabIndex="0" title="go to video" aria-label="go to video"><span class="icon"><i class="fa-solid fa-video"></i></span></button></span> <span id="printPage"><button onclick="window.print()" class="dropbtn" tabIndex="0" title="print page" aria-label="print page"><span class="icon"><i class="fa-solid fa-print"></i></span></button></span> '+z+'<div id="ai-tasks" style="display:none;"><div id="aiChat"><button onclick="gotoChat(false)" onauxclick="gotoChat(true)" class="dropbtn" tabIndex="0" title="AI chat" aria-label="AI chat"><span class="icon"><i class="fa-regular fa-comments"></i></span>&nbsp; <span id="tutor-style"></span> tutor</button> (ChatGPT)</div><div id="aiChat-related-topics"><button onclick="gotoChat(false, &quot;advisor-related-topics&quot;)" onauxclick="gotoChat(true, &quot;advisor-related-topics&quot;)" class="dropbtn" tabIndex="0" title="AI related topics" aria-label="AI related topics"><span class="icon"><i class="fa-solid fa-diagram-project"></i></span>&nbsp; related topics</button></div><div id="aiChat-examinator"><button onclick="gotoChat(false, &quot;examinator&quot;)" onauxclick="gotoChat(true, &quot;examinator&quot;)" class="dropbtn" tabIndex="0" title="AI examinator" aria-label="AI examinator"><span class="icon"><i class="fa-regular fa-circle-question"></i></span>&nbsp; examinator</button></div></div>'+R+S+'<span id="gotoWikipedia"><button onclick="gotoWikipedia()" onauxclick="gotoWikipedia( true )"class="dropbtn" tabIndex="0" title="go to Wikipedia" aria-label="go to Wikipedia"><span class="icon"><i class="fa-brands fa-wikipedia-w"></i></span></button></span> '+E+'<span id="otherLanguage"><button onclick="showWikipediaLanguages()" class="dropbtn active uls-trigger" tabIndex="0" title="article in other languages"> '+j+"</button></span>"+U+'<div id="language-variants" style="display:none;"><div id="switch-to-zh"><button onclick="switchLanguageVariant(false, &quot;zh&quot;)" onauxclick="switchLanguageVariant(true, &quot;zh&quot;)" class="dropbtn" tabIndex="0" title="switch language variant" aria-label="switch language variant"><span id="writing-style-option">ZH</span> (traditional)</button></div><div id="switch-to-zh-cn"><button onclick="switchLanguageVariant(false, &quot;zh-cn&quot;)" onauxclick="switchLanguageVariant(true, &quot;zh-cn&quot;)" class="dropbtn" tabIndex="0" title="switch language variant" aria-label="switch language variant"><span id="writing-style-option">ZH-CN</span> (Mainland simplified)</button></div><div id="switch-to-zh-hk"><button onclick="switchLanguageVariant(false, &quot;zh-hk&quot;)" onauxclick="switchLanguageVariant(true, &quot;zh-hk&quot;)" class="dropbtn" tabIndex="0" title="switch language variant" aria-label="switch language variant"><span id="writing-style-option">ZH-HK</span> (Hong Kong traditional)</button></div><div id="switch-to-zh-mo"><button onclick="switchLanguageVariant(false, &quot;zh-mo&quot;)" onauxclick="switchLanguageVariant(true, &quot;zh-mo&quot;)" class="dropbtn" tabIndex="0" title="switch language variant" aria-label="switch language variant"><span id="writing-style-option">ZH-MO</span> (Macau traditional)</button></div><div id="switch-to-zh-my"><button onclick="switchLanguageVariant(false, &quot;zh-my&quot;)" onauxclick="switchLanguageVariant(true, &quot;zh-my&quot;)" class="dropbtn" tabIndex="0" title="switch language variant" aria-label="switch language variant"><span id="writing-style-option">ZH-MY</span> (Malaysia simplified)</button></div><div id="switch-to-zh-sg"><button onclick="switchLanguageVariant(false, &quot;zh-sg&quot;)" onauxclick="switchLanguageVariant(true, &quot;zh-sg&quot;)" class="dropbtn" tabIndex="0" title="switch language variant" aria-label="switch language variant"><span id="writing-style-option">ZH-SG</span> (Singapore simplified)</button></div><div id="switch-to-zh-tw"><button onclick="switchLanguageVariant(false, &quot;zh-tw&quot;)" onauxclick="switchLanguageVariant(true, &quot;zh-tw&quot;)" class="dropbtn" tabIndex="0" title="switch language variant" aria-label="switch language variant"><span id="writing-style-option">ZH-TW</span> (Taiwan style)</button></div></div></div><span id="main-content" class="screenreader-text" title="main content target" aria-label="main content target"></span>'+N),$("body#wikipedia-content").html(k+'<base target="_parent" /><script type="text/javascript" src="../wikipedia/dist/transform.js?'+explore.version+'"><\/script>'+c+f+'<script src="../explore2/dist/webcomponent/gbif-map.js?'+explore.version+'" type="module"><\/script><script src="../explore2/libs/sortable.js"><\/script><br><div id="legalnotice">This page is based on a <a target="_blank_" href="'+B+'">Wikipedia</a> article written by <a href="'+T+'">contributors</a>. The text is available under the <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> license; additional terms may apply. Images, videos and audio are available under their respective licenses.</div></main><br><br><br>'),explore.isMobile&&($("#gotoImages").hide(),$("#gotoBooks").hide(),$("#addToCompare").hide(),$("#printPage").hide()),explore.isFirefox&&$("#pauseButton").hide()}})}document.toggleFullscreen=function(){return screenfull.enabled&&screenfull.toggle(),0};function getLangCode3(e){let t;for(const[o,i]of Object.entries(explore.wp_languages))if(e===o){if(t=i.iso3,explore.language_script=i.script,explore.language_name=i.name,explore.voice_code.startsWith(explore.language)||(explore.voice_code=i.voice||"en-GB"),explore.langcode_librivox=i.librivox||1,explore.lang_category=i.namespaces.category,explore.language_direction==="rtl"){const s=":"+explore.lang_category+"$";explore.lang_catre1=new RegExp(s,"g");const l="%3A"+explore.lang_category+"$";explore.lang_catre2=new RegExp(l,"g"),explore.lang_portal=i.namespaces.portal;const c=":"+explore.lang_portal+"$";explore.lang_porre1=new RegExp(c,"g"),explore.lang_talk=i.namespaces.talk;const u=":"+explore.lang_talk+"$";explore.lang_talkre=new RegExp(u,"g")}else{const s="^"+explore.lang_category+":";explore.lang_catre1=new RegExp(s,"g");const l="^"+explore.lang_category+"%3A";explore.lang_catre2=new RegExp(l,"g"),explore.lang_portal=i.namespaces.portal;const c="^"+explore.lang_portal+":";explore.lang_porre1=new RegExp(c,"g"),explore.lang_book=i.namespaces.book;const u="^"+explore.lang_book+":";explore.lang_bookre=new RegExp(u,"g"),explore.lang_talk=i.namespaces.talk;const w="^"+explore.lang_talk+":";explore.lang_talkre=new RegExp(w,"g")}break}return t}function getNamefromLangCode2(e){let t="";return explore.wp_languages.hasOwnProperty(e)&&(t=explore.wp_languages[e].namelocal),t}function detectMobile(){return getParameterByName("v")==="mobile"?!0:getParameterByName("v")==="desktop"?!1:/Android|webOS|iPhone|iPad|iPod|BlackBerry|Mobile/i.test(navigator.userAgent)}function receiveMessage(e){if(e.data.event_id==="set-value")explore[e.data.data[0]]=e.data.data[1],e.data.data[0]==="bread"&&(console.log("set-value: ",e.data.data[0],e.data.data[1]),valid(e.data.data[1])?(valid(explore.bread)&&$(".bread").length===0&&processNode(document.querySelector(".mw-parser-output")),$(".bread").attr("style","font-weight: bolder !important")):$(".bread").attr("style","font-weight: unset !important"));else if(e.data.event_id==="pause-speaking")pauseSpeaking();else if(e.data.event_id==="resume-speaking")resumeSpeaking();else if(e.data.event_id==="stop-speaking")stopSpeaking();else if(e.data.event_id==="goto"){const t="#:~:text="+encodeURIComponent(e.data.data[0]);window.location.hash=t}}function showWikipediaLanguages(){}function renderEmbeddedGbifMap(e,t){const o=explore.isMobile?"300px":"500px";return'<div class="section"><h2 class="map-gbif">'+explore.banana_native.i18n("app-title-occurence")+'</h2><gbif-map style="resize: both; overflow: auto; width:100%;height:'+o+';" gbif-id="'+e+'" gbif-title="'+t+'" gbif-language="'+explore.language+'" gbif-style="scaled.circles" center-latitude="30.0" center-longitude="13.6" controls ></gbif-map>'}function pauseSpeaking(){explore.synth_paused=!0,explore.synth.pause()}function stopSpeaking(){valid(explore.synth)&&explore.synth.cancel(),typeof parentref.postMessage=="function"&&parentref.postMessage({event_id:"stop-all-speaking",data:{}},"*")}function cleanText(e){if(typeof e===void 0||typeof e>"u")return"";for(e=e.replace(/(\r\n|\n|\r|'|"|`|\(|\)|\[|\])/gm,"");e!=(e=e.replace(/\{[^\{\}]*\}/gm,"")););return e}function resumeSpeaking(){valid(explore.synth)&&(explore.synth_paused=!1,explore.synth.resume())}function startSpeaking(e,t){if(parentref.postMessage({event_id:"show-loader",data:{}},"*"),!valid(explore.synth))return 1;if(explore.synth_paused)return resumeSpeaking(),0;explore.synth.speaking&&(explore.firstVisit===!0&&(explore.firstVisit=!1),stopSpeaking()),explore.synth_paused=!1,(typeof e===void 0||typeof e>"u"||e==="")&&(e=$(".mw-parser-output h2, h3, h4, h5, h6, p:not(table p), ul:not(table ul), li:not(table li), dl:not(.navbox-block dl), dd:not(.navbox-block dd)").clone().find(explore.tts_removals).remove().end().text(),e=$("h2:first").text()+e),e=cleanText(e),utterance=new SpeechSynthesisUtterance(e),utterance.lang=explore.voice_code,utterance.rate=explore.voice_rate,utterance.pitch=explore.voice_pitch,setUtteranceOnBoundary(e,t),explore.synth.speak(utterance),parentref.postMessage({event_id:"hide-loader",data:{}},"*")}function setUtteranceOnBoundary(e,t){valid(t),utterance.onboundary=function(o){const i=getWordAt(e,o.charIndex)}}function getWordAt(e,t){e=String(e),t=Number(t)>>>0;const o=e.slice(0,t+1).search(/\S+$/),i=e.slice(t).search(/\s/);return i<0?e.slice(o):e.slice(o,i+t)}
