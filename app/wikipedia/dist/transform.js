"use strict";let hash="",isMobile=detectMobile(),isSafari=detectSafari(),nr_of_sections=0,image_width_string="/900px-",min_image_width_for_enlarge=60,min_image_height_for_enlarge=60;window.location.hash||(window.location.hash="#"),$(document).ready(function(){isMobile?image_width_string="/500px-":$("img").length>100&&(image_width_string="/400px-"),isMobile||window.parent.name==="infoframeSplit2"||window.parent.name==="infoframe_"?parentref=parent:parentref=parent.top,$(document).click(function(e){parentref.postMessage({event_id:"uls-close",data:{}},"*")});let t="#fbfaf9";typeof fontsize<"u"&&$("body").css("font-size",fontsize+"px"),$(".mw-empty-elt").remove(),$(".mw-editsection-divider").remove(),$("table.ambox").remove(),$("table.stub").remove(),$(".play-btn-large").remove(),$("a.internal[title$='.mid']").addClass("midi"),$(".noprint").not(".noprint.navbox").not(".side-box").not(".listen").not('[role="presentation"]').remove(),$('.mbox-small.noprint[role="presentation"]').addClass("media-block"),$(".mw-authority-control").remove(),$("img.noviewer").parent().remove(),$(".plainlinks").remove(),$("div.hatnote:empty").remove(),$(".hatnote a").each(function(){$(this).addClass("main_template_info")}),language==="fr"?$(".bandeau-cell a").each(function(){$(this).addClass("main_template_info")}):language==="de"?$(".hauptartikel a").each(function(){$(this).addClass("main_template_info")}):language==="nl"&&$('div[role="note"] a').each(function(){$(this).addClass("main_template_info")}),$(".mbox-small.plainlinks.sistersitebox").remove(),$(".metadata.mbox-small").remove(),$("table.infoboks").addClass("infobox"),$("table.sinottico").addClass("infobox"),$("table.vertical-navbox").addClass("infobox"),isMobile||$("div#toc").remove(),$(".tocright").remove(),$("img.thumbimage").not(".mwe-math-fallback-image-inline").not(".noviewer").not(".gallery-image").not(".no-enlarge").each(function(e){$(this).unwrap()}),$("h1,h2,h3,h4,h5,h6").each(function(){$(this).find("a").remove();let e=$(this).text();e=e.replace("["," "),e=e.replace("]"," "),$(this).text(e)}),setupKeys(),setupToc(),explore.language_direction==="rtl"&&$("body").css("direction","rtl","important"),setupArticleImages(),setupLinks(),setupAudiomassLinks(),setupClicks(),$("p").not("table p").each(function(e){$(this).addClass("sid"),$(this).attr("id",e)}),setupImageClicks(),setupAudioClicks(),setupImageZoom(),valid(explore.bread)&&processNode(document.querySelector(".mw-parser-output")),setupULS(),$("div.reflist").wrap('<details class="reflist-block"></details>'),$("details.reflist-block").prepend('<summary title="show / hide references"><i class="fa-regular fa-folder-open"></i></summary>'),$(".navbox").wrap('<details class="navbox-block"></details>'),$("details.navbox-block").prepend('<summary title="show / hide navbox"><i class="fa-regular fa-folder-open"></i> navbox</summary>'),$("main.explore").css({visibility:"visible"}),isMobile||(window.location.hash="#"+explore.hash,valid($(window.location.hash)[0])&&$(window.location.hash)[0].scrollIntoView()),addSectionTTS(),explore.autospeak&&startSpeaking(),explore.ld.text=$(".sid#0, .sid#1").text().replace(/\[\d+\]/g,""),parentref.postMessage({event_id:"update-jsonld",data:{fields:explore.ld}},"*"),parentref.postMessage({event_id:"page-rendered",data:{}},"*")});function setupLinks(){const t=wp_languages[explore.language].namespaces.special,e=wp_languages[explore.language].isbn,n='a[href*="'+encodeURIComponent(t)+":"+encodeURIComponent(e)+'"]';$(n).each(function(a){let l=$(this).attr("href").split("/").pop();$(this).attr("href","https://openlibrary.org/search?q="+l),$(this).addClass("link external ISBN")}),$("a").not("a.link.external").not("a.link.internal").each(function(a){let i=$(this).attr("href")||"",l=$(this).attr("href")||"";if(i.startsWith(explore.base+"/explore/"))$(this).addClass("link"),$(this).attr("href",i.replace("/explore/","")),l=l.replace("/explore/","");else if(i.startsWith("#"))$(this).addClass("internal hash"),l="";else if(i.startsWith("/w/index.php?title=")||i.endsWith("redlink=1")){$(this).addClass("missing-link");let o="https://"+language+".wikipedia.org"+$(this).attr("href");$(this).attr("href",o),l=""}if(l!==""){const o={type:"string",title:l,language};let r='onMiddleClick( "'+encodeURIComponent(JSON.stringify(o))+'" )';$(this).attr("onauxclick",r)}}),$("a.link.external").attr("target","_blank"),$("a.external").attr("target","_blank"),$("a.missing-link").attr("target","_blank"),(explore.linkpreview===!0||explore.linkpreview==="true")&&wikipediaPreview.init({root:document.querySelector("main"),selector:"a.link",lang:language})}function setupClicks(){$("a.link.framed").on("click",function(t){t.preventDefault(),window.open($(this).attr("href"),"_blank")}),$("a.link.explore").on("click",function(t){t.preventDefault(),parentref.postMessage({event_id:"show-loader",data:{}},"*"),parentref.postMessage({event_id:"handleClick",data:{type:"explore",title,hash,language}},"*")}),$("a.link").not("a.link.external").not("a.link.internal").not("a.link.framed").not("a.link.explore").not("a.link.random").on("click",function(t){if(t.preventDefault(),hash=$(this).attr("href").split("#")[1]||"",title=$(this).attr("href").split("#")[0].replace(/_/g," "),title=title.replace(/\.\/|_|<i>|<\/i>|<b>|<\/b>/g,""),explore.embedded)location.href=explore.base+"/app/wikipedia/?t="+encodeURIComponent(title)+"&l="+language;else if(explore.keyboard_ctrl_pressed){explore.keyboard_ctrl_pressed=!1;const e=explore.base+"/explore/"+encodeURIComponent(title)+"?l="+language;return openInNewTab(e),0}else parentref.postMessage({event_id:"show-loader",data:{}},"*"),parentref.postMessage({event_id:"handleClick",data:{type:"string",title,hash,language,current_pane,target_pane:current_pane}},"*");hash=""}),window.onhashchange=locationHashChanged}function locationHashChanged(){window.location.hash.startsWith("#cite")&&($("details.reflist-block").attr("open",""),$(window.location.hash)[0].scrollIntoView()),parentref.postMessage({event_id:"hash-change",data:{hash:window.location.hash}},"*")}function setupArticleImages(){$("title").text().startsWith("Portal:")||$("title").text().startsWith("Book:")||($("a.mw-kartographer-map img").each(function(t){const e=explore.base+"/app/cors/raw/?url="+encodeURIComponent($(this).attr("src"));$(this).attr("src",e),$(this).attr("srcset",e+" 2x")}),$("img.thumbimage").not(".mwe-math-fallback-image-inline").not(".noviewer").not(".gallery-image").not(".no-enlarge").each(function(t){$(this).unwrap().unwrap(),$(this).removeAttr("width").removeAttr("height");let e="",n="";if(!($("title").text().startsWith("Portal:")||$("title").text().startsWith("Book:"))){let l=$(this).next();l.attr("class")==="thumbcaption"&&(l.find(".magnify").remove(),e=l.html(),n=l.text().replace(/"/g,"&quot;"),l.remove())}let a=$(this)[0].src.replace(/wikipedia.org\//,language+".wikipedia.org/")||"",i=a.split("?")[0].trim();if(i.endsWith(".ogv.jpg")||i.endsWith(".webm.jpg")){let l=i;i=$(this).next("a")[0].href,$(this).next("a").remove(),$(this).next().hasClass("thumbcaption")&&(e=$(this).next().html(),$(this).next().remove());let o="";e!==""&&(o="<figcaption>"+e+"</figcaption>"),$(this).unwrap().unwrap().replaceWith('<figure style="max-width:100% !important;"><video class="inline-video" width="100% !important" poster="'+l+'" controls><source src="'+i+'"></video>'+o+"</figure>")}else{a=a.replace(/\/\d+px\-/g,image_width_string),$(this)[0].src=a;let l=$(this).html(),o=a.split("/").pop(),r=image_width_string.replace("/","");o=o.replace(r,""),o.endsWith(".svg.png")?o=o.replace(".svg.png",".svg"):o.endsWith(".svg.jpg")&&(o=o.replace(".svg.jpg",".svg")),valid(o)||(o=a.split("/").pop());let p=`https://commons.wikimedia.org/w/index.php?search=%22${o}%22&title=Special:MediaSearch&go=Go&type=image`;$(this).wrap('<figure class="non-thumb-media"></figure>').after('</span> <figcaption data-test"FooBar">'+e+'&nbsp;&nbsp;<a title="copyright info" target="_blank" href="'+p+'"><i class="fa-regular fa-copyright"></i></href></figcaption>').wrap('<a href="'+a+'" class="elem" data-lcl-txt="'+n+'" data-articulate-ignore="" tabindex="0"></a>')}}),$("img").not("img.thumbimage").not(".mwe-math-fallback-image-inline").not(".noviewer").not(".gallery-image").not(".no-enlarge").each(function(t){let e="",n="",a=$(this)[0].src.replace(/wikipedia.org\//,language+".wikipedia.org/")||"",i=a.split("?")[0].trim();if(!$(this).parent().is("a")&&!(i.endsWith(".ogv.jpg")||i.endsWith(".webm.jpg")))return 1;if($(this).unwrap(),i.endsWith(".ogv.jpg")||i.endsWith(".webm.jpg")){let l=i;i=$(this).next("a")[0].href,$(this).next("a").remove(),$(this).next().hasClass("thumbcaption")&&(e=$(this).next().html(),$(this).next().remove());let o="";e!==""&&(o="<figcaption>"+e+"</figcaption>"),$(this).unwrap().unwrap().replaceWith('<figure style="max-width:100% !important;"><video class="inline-video" width="100% !important" poster="'+l+'" controls><source src="'+i+'"></video>'+o+"</figure>")}else{let l="";if($(this).next("figcaption").length>0&&(n=$(this).next("figcaption").text()),$(this).attr("width")<min_image_width_for_enlarge||$(this).attr("height")<min_image_height_for_enlarge)return $(this).removeClass("enlargable"),0;$(this).hasClass("thumbborder")&&(l="width: initial;"),a=a.replace(/\/\d+px\-/g,image_width_string),$(this).wrap('<a href="'+a+'" class="elem" data-lcl-txt="'+n+'" data-articulate-ignore=""></a>').wrap('<figure style="'+l+'"></figure>')}})),($("title").text().startsWith("Portal:")||$("title").text().startsWith("Book:"))&&$("a.image figure").unwrap(),$(".clade-leaf figure").each(function(t){$(this).css({"max-width":"none",width:"auto",float:"none",margin:"1em 0em 0em 1em",clear:"none","padding-left":"initial",position:"relative"})}),$(".clade-leaf img").each(function(t){$(this).css({width:"auto",float:"none"})}),$("li.gallerybox").each(function(t){const e=$(this).find(".gallerytext").text()||"";$(this).find("a.elem").attr("data-lcl-txt",e)}),$("div.locmap").each(function(t){$($(this).find("div.od")).appendTo($(this).find("figure"))})}function setupToc(){$("h1,h2,h3,h4,h5,h6").each(function(){if($(this).text().startsWith("Book:"))return $(this).parent().remove(),!0;let e=$(this).text().replace(/[ %{}|^~\[\]()"'+<>%'&\.\/?:@;=,]/g,"_").replace(/^.+_svg_/,"").toLowerCase().replace(/_+$/,"");$(this).attr("id",e)}),isMobile||tocbot.init({tocSelector:".js-toc",contentSelector:".js-toc-content",headingSelector:"h2, h3, h4, h5, h6",ignoreSelector:"#notes",onClick:clickedToc,collapseDepth:1,scrollSmooth:!1,orderedList:!0})}function setupMIDI(){$("a.midi").each(function(t,e){const n=$(this).attr("href"),a="midi-"+t;$(this).after('<midi-player src="'+n+'"> </midi-player>'),$(this).hide()})}function setupImageClicks(){$("img").not(".no-enlarge").not(".mwe-math-fallback-image-inline").not(".mwe-math-fallback-image-display").attr("loading","lazy").addClass("enlargable"),$("img.enlargable").each(function(e){($(this).attr("width")<min_image_width_for_enlarge||$(this).attr("height")<min_image_height_for_enlarge)&&$(this).removeClass("enlargable")});const t=lc_lightbox(".elem",{wrap_class:"lcl_fade_oc",gallery:!0,thumb_attr:!1,tn_hidden:!0,thumbs_nav:!0,download:!0,skin:"minimal",counter:!0,touchswipe:!0})}function setupAudiomassLinks(){$(".haudio").each(function(t){const e=$(this).find("source").first().attr("src"),n=explore.base+"/app/audio/?url="+encodeURIComponent(explore.base+"/app/cors/raw/?url=https:"+e);$(this).find("a.link").first().attr({href:n,onauxclick:n}).addClass("internal")})}function setupAudioClicks(){$(".enlargable").each(function(t){let e=$(this).attr("src").split("?")[0]||"";if(e.endsWith(".ogg")||e.endsWith(".oga")||e.endsWith(".mp3")||e.endsWith(".wav")){let a='<audio controls><source src="'+e+'"></audio>';$(this).replaceWith(a)}})}function setupULS(){if(typeof languages===void 0||typeof languages>"u"||languages==="undefined"||languages==="")return 1;languages=JSON.parse(decodeURIComponent(languages));let t=!1;typeof languages=="object"||(languages=JSON.parse(decodeURIComponent(languages)),t=!0);let e={};if(t)e=languages;else if(getParameterByName("qid")===""||getParameterByName("qid")===!1||getParameterByName("qid")==="-1")for(let[a,i]of Object.entries(languages))e[a]=i;else for(let[a,i]of Object.entries(languages))a.endsWith("wiki")&&(a=a.replace(/wiki$/,""),e[a]=i);let n="";$(".uls-trigger").uls({onSelect:function(a){language=a;let i=e[a];explore.embedded?location.href=explore.base+"/app/wikipedia/?embedded=true&t="+encodeURIComponent(title)+"&l="+language:window.parent.postMessage({event_id:"handleClick",data:{type:"string",title:i,hash,language,languages:encodeURIComponent(JSON.stringify(e)),current_pane,target_pane:current_pane}},"*"),hash=""},onReady:function(a){$("input.uls-filterinput.uls-languagefilter.languagefilter").val("foo")},lazyload:!0,languages:e}),$(".uls-trigger").click(function(){$(".uls-menu").addClass("uls-mobile").css("right","2.5%")})}window.onclick=function(t){if(!t.target.matches(".dropbtn")){let e=document.getElementsByClassName("dropdown-content"),n;for(n=0;n<e.length;n++){let a=e[n];a.classList.contains("show")&&a.classList.remove("show")}}};function clickedToc(t){let e=t.target.getAttribute("href");$("html, body").animate({scrollTop:$(e).offset().top+40},200)}function goExplore(t){let e=`https://${explore.host}${explore.base}/app/wikipedia/?embedded=${explore.embedded}&t=${encodeURIComponent(title)}&l=${language}`;t?openInNewTab(e):explore.embedded?location.href=e:parentref.postMessage({event_id:"handleClick",data:{type:"explore",title,hash,language}},"*")}function gotoChat(t,e){let n=explore.tutor;valid(e)&&(n=e);const a=explore.base+"/app/chat/?m="+encodeURIComponent(title)+"&l="+explore.language+"&t="+n;t?openInNewTab(a):explore.embedded?location.href=a:parentref.postMessage({event_id:"handleClick",data:{type:"link-split",url:a,title,hash,language,current_pane,target_pane:current_pane}},"*")}function gotoArticle(t){title.startsWith(explore.lang_talk+":")&&(title=title.replace(explore.lang_talkre,""));const e=explore.base+"/app/wikipedia/?t="+encodeURIComponent(title)+"&l="+explore.language+"&voice="+explore.voice_code+"&qid=&dir="+explore.language_direction;t?openInNewTab(e):explore.embedded?location.href=e:parentref.postMessage({event_id:"handleClick",data:{type:"link",url:e,title,hash,language,current_pane,target_pane:current_pane}},"*")}function gotoTalkPage(t){if(title.startsWith(explore.lang_talk+":"))return 0;const e=explore.base+"/app/wikipedia/?t="+encodeURIComponent(explore.lang_talk+":"+title)+"&l="+explore.language+"&voice="+explore.voice_code+"&qid=&dir="+explore.language_direction;t?openInNewTab(e):explore.embedded?location.href=e:parentref.postMessage({event_id:"handleClick",data:{type:"link",url:e,title,hash,language,current_pane,target_pane:current_pane}},"*")}function bookmarkToggle(){if($(".icon .bookmark-icon").hasClass("bookmarked")){console.log("TODO: implement remove bookmark: ",title);var t=findObjectByKey(explore.bookmarks,"name",title);valid(t[0]?.id)&&(console.log(t[0].id),window.parent.postMessage({event_id:"remove-bookmark",data:{id:t[0].id}},"*")),$(".icon .bookmark-icon").removeClass("bookmarked")}else $(".icon .bookmark-icon").addClass("bookmarked"),window.parent.postMessage({event_id:"add-bookmark",data:{language:explore.language,qid:explore.qid,tags:explore.tags,datasource:"wikipedia"}},"*")}function gotoVideo(t){const e=explore.base+`/app/video/?l=${explore.language}#/search/`+quoteTitle(title);t?openInNewTab(e):explore.embedded?location.href=e:parentref.postMessage({event_id:"handleClick",data:{type:"link",url:e,title,hash,language,current_pane,target_pane:current_pane}},"*")}function gotoImages(t){const e=`https://www.bing.com/images/search?q=${title}&form=HDRSC2&setlang=${explore.language}&first=1`;t?openInNewTab(e):explore.embedded?location.href=e:parentref.postMessage({event_id:"handleClick",data:{type:"link",url:e,title,hash,language,current_pane,target_pane:current_pane}},"*")}function gotoBooks(t){const e=encodeURI("https://openlibrary.org/search?q="+quoteTitle(title)+"&mode=everything&language="+explore.lang3);t?openInNewTab(e):explore.embedded?location.href=e:parentref.postMessage({event_id:"handleClick",data:{type:"link",url:e,title,hash,language,current_pane,target_pane:current_pane}},"*")}function gotoBookISBN(t,e){const n=encodeURI("https://openlibrary.org/search?q=ISBN%3A"+e+"&mode=everything");window.top.postMessage({event_id:"handleClick",data:{type:"link",url:n,title,hash,language,current_pane,target_pane:current_pane}},"*")}function addToCompare(){qid!==""&&window.top.postMessage({event_id:"add-to-compare",data:{type:"compare",title,hash,language,qid}},"*")}function switchLanguageVariant(t,e){if(console.log("switch language-variant to: ",e),valid(e)){explore.language_variant=e,parentref.postMessage({event_id:"update-language-variant",data:{language:explore.language,language_variant:explore.language_variant}},"*"),(async()=>await explore.db.set("language-variant-"+explore.language,explore.language_variant))();const n=`${explore.base}/app/wikipedia/?t=${encodeURIComponent(title)}&l=${explore.language}&lv=${explore.language_variant}&voice=${explore.voice_code}&dir=${explore.language_direction}&tags=${explore.tags.join(",")}&tutor=${explore.tutor}&embedded=${explore.embedded}#${explore.hash}`;t?openInNewTab(n):explore.embedded?location.href=n:parentref.postMessage({event_id:"handleClick",data:{type:"link",url:n,title,hash,language,current_pane,target_pane:current_pane}},"*")}else explore.language_variant=""}function showLanguageVariants(t,e){console.log("show language variants"),$("#language-variants").toggle()}function showAI(t,e){$("#tutor-style").text(`${explore.tutor}`),$("#ai-tasks").toggle()}function gotoAI(t,e){let n=$("p").text(),a="";e==="question-answering"?(n=n.substring(0,1700),a=`What is ${title}?`):n=n.substring(0,2e3);const i=encodeURI(`${explore.base}/app/ai/?task=${e}&arg1=${encodeURIComponent(n)}&arg2=${encodeURIComponent(a)}&l=${explore.language}`);t?openInNewTab(i):explore.embedded?location.href=i:parentref.postMessage({event_id:"handleClick",data:{type:"link",url:i,title,hash,language,current_pane,target_pane:current_pane}},"*")}function gotoCommons(t){const e=encodeURI(`${explore.base}/app/commons-qid/?q=${qid}&l=${explore.language}`);t?openInNewTab(e):explore.embedded?location.href=e:parentref.postMessage({event_id:"handleClick",data:{type:"link",url:e,title,hash,language,current_pane,target_pane:current_pane}},"*")}function gotoWikidata(t){const e=encodeURI("https://www.wikidata.org/wiki/"+qid+"?uselang="+explore.language);t?openInNewTab(e):explore.embedded?location.href=e:parentref.postMessage({event_id:"handleClick",data:{type:"link",url:e,title,hash,language,current_pane,target_pane:current_pane}},"*")}function gotoWikipedia(t){let e="wiki";valid(explore.language_variant)&&(e=explore.language_variant);const n=encodeURI(`https://${language}.wikipedia.org/${e}/${title}`);t?openInNewTab(n):explore.embedded?location.href=n:parentref.postMessage({event_id:"handleClick",data:{type:"link",url:n,title,hash,language,current_pane,target_pane:current_pane}},"*")}function detectMobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|Mobile/i.test(navigator.userAgent)}function setupKeys(){keyboardJS.bind("alt+y",function(t){window.parent.postMessage({event_id:"toggle-sidebar",data:{}},"*")}),keyboardJS.bind("alt+i",function(t){window.parent.postMessage({event_id:"add-bookmark",data:{}},"*")})}function setupImageZoom(){$("#openseadragon").hide,window.viewer=OpenSeadragon({id:"openseadragon",prefixUrl:explore.base+"/app/explore2/node_modules/openseadragon/build/openseadragon/images/",tileSources:{type:"image",url:"../explore2/assets/images/icon_home.png",crossOriginPolicy:"Anonymous",ajaxWithCredentials:!1},showNavigator:!0,navigatorSizeRatio:.25}),window.viewer.world.addHandler("add-item",function(t){let e=t.item;e.addHandler("fully-loaded-change",fullyLoadedHandler),window.viewer.navigator.addTiledImage({tileSource:e})}),window.viewer.setVisible(!0)}function fullyLoadedHandler(){$("#loader-openseadragon").hide()}function addSectionTTS(){let t="";explore.tts_enabled&&($("h2:first").append($('<span class="section-title-button" title="stop speaking" onclick="stopSpeaking()" tabIndex="0"><i class="fa-solid fa-stop"></i></span>&nbsp;<span class="section-title-button" title="pause speaking" onclick="pauseSpeaking()" tabIndex="0"><i class="fa-solid fa-pause"></i></span><span class="section-title-button" title="start speaking from here" onclick="startSpeaking()" tabIndex="0"><i class="fa-solid fa-play"></i></span>')),$(".mw-parser-output h2, .mw-parser-output h3, .mw-parser-output h4").each(function(e,n){$(this).attr("id")==="see_also"||(t=$(this).nextAll("p, h2, h3, h4, h5, h6, ul, li, dl, dd").clone().find(explore.tts_removals).remove().end().text(),t=$(this).text()+t,t=cleanText(t),$(this).append($(`<span class="section-title-button" title="stop speaking" onclick="stopSpeaking()" tabIndex="0"><i class="fa-solid fa-stop"></i></span>&nbsp;<span class="section-title-button" title="pause speaking" onclick="pauseSpeaking()" tabIndex="0"><i class="fa-solid fa-pause"></i></span><span class="section-title-button" title="start speaking from here" onclick="startSpeaking( '`+t+`' )" tabIndex="0"><i class="fa-solid fa-play"></i></span>`)))}),$(".section-title-button").on("keyup",function(e){e.keyCode==13&&$(this).click()}))}let minWordLength=4,minTextLength=20,boldRatio=.4;function insertTextBefore(t,e,n){if(n){let a=document.createElement("span");a.className="bread",a.appendChild(document.createTextNode(t)),e.parentNode.insertBefore(a,e)}else e.parentNode.insertBefore(document.createTextNode(t),e)}function processNode(t){let e=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,{acceptNode:function(a){return a.parentNode.nodeName!=="INPUT"&&a.parentNode.nodeName!=="NOSCRIPT"&&a.parentNode.nodeName!=="SCRIPT"&&a.parentNode.nodeName!=="STYLE"&&a.parentNode.nodeName!=="TEXTAREA"&&a.parentNode.nodeName!=="TITLE"&&(a.parentNode.nodeName==="A"||a.parentNode.nodeName==="EM"||a.parentNode.nodeName==="STRONG"||a.nodeValue.length>=minTextLength)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),n;for(;n=e.nextNode();){let a=n.nodeValue,i=-1,l=0,o=null;for(let r=0;r<=a.length;r++){let p=r<a.length?/[\p{Letter}\p{Mark}]/u.test(a[r]):!1;if(r==a.length||o!==p){if(o&&l>=minWordLength){let s=a.substring(i,i+l),d=Math.ceil(s.length*boldRatio),c=s.substring(0,d),g=s.substring(d);insertTextBefore(c,n,!0),insertTextBefore(g,n,!1)}else if(l>0){let s=a.substring(i,i+l);insertTextBefore(s,n,!1)}i=r,l=1,o=p}else l++}n.nodeValue=""}}
