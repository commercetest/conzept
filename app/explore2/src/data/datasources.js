const datasources = {

  'wikipedia': {
    active:                 false,
    name:                   'Wikipedia',
    description:            'encyclopedic topics',
    tag:                    'general',
    qid:                    'Q52',
    protocol:               'rest',
    endpoint:               'wikipedia.org/w/api.php',
    format:                 'json',
    connect:                'jsonp',
    pagesize:               5,
    filter:                 '0|14', // Wikipedia-API specific: list of Wikipedia namespaces
    sort_map:               { // https://www.mediawiki.org/wiki/Help:CirrusSearch
                              'none'            : 'relevance',
                              'relevance-desc'  : 'relevance',
                              'relevance-asc'   : 'random',
                              'date-desc'       : 'create_timestamp_asc',
                              'date-asc'        : 'create_timestamp_desc',
                              'random'          : 'random',
                              'citations-desc'  : 'incoming_links_desc',
                              'citations-asc'   : 'incoming_links_asc',
                              'title-desc'      : 'just_match',
                              'title-asc'       : 'just_match',
                              'distance-desc'   : 'relevance',
                              'distance-asc'    : 'relevance',
                            },
    // Wikipedia API: https://www.mediawiki.org/wiki/API:Main_page
    url:                    'https://${explore.language}.${datasources.wikipedia.endpoint}?action=query&format=${datasources.wikipedia.format}&srsearch=${term}&srnamespace=${datasources.wikipedia.filter}&srlimit=${datasources.wikipedia.pagesize}&srsort=${sortby}&list=search&continue=-||&sroffset=${ (explore.page -1) * datasources.wikipedia.pagesize}',
    // SORTING: 
    icon:                   '<i class="fa-brands fa-wikipedia-w"></i>',
    display_url:            'https://${explore.host}${explore.base}/app/wikipedia/?q=${qid}&lang=${language}', // TODO
    code_data_collect:      'my_promises.push( processResultsWikipedia( topicResults, struct, index ) );', // FIXME: invert control (see next line)
    //code_data_collect:    'processResultsWikipedia( my_promises, topicResults, struct, index );',
    code_autocomplete:      'autocompleteWikipedia( r, dataset )',
    code_resolve:           'resolveWikipedia( result, renderObject )',
    code_render_mark:       'renderMarkWikipedia( inputs, source, q_, show_raw_results, id )',
    autocomplete_active:    true,
    autocomplete_protocol:  'opensearch',
    autocomplete_url:       'https://${explore.language}.wikipedia.org/w/api.php?action=${datasources.wikipedia.autocomplete_protocol}&format=${datasources.wikipedia.autocomplete_format}&search=${term}&namespace=${datasources.wikipedia.autocomplete_filter}&srsort=${sortby}&limit=${datasources.wikipedia.autocomplete_limit}&profile=${datasources.wikipedia.autocomplete_mode}',
    autocomplete_format:    'json',
    autocomplete_connect:   'jsonp',
    autocomplete_limit:     7,
    autocomplete_filter:    '0|14', // Wikipedia-API specific: list of Wikipedia namespaces
    autocomplete_mode:      'fuzzy',
  },

  'wikidata': {
    active:                 false,
    name:                   'Wikidata',
    description:            'knowledge base topics',
    tag:                    'general',
    qid:                    'Q2013',
    protocol:               'sparql',
    endpoint:               'https://query.wikidata.org/sparql',
    format:                 'json',
    connect:                'json',
    pagesize:               5, // NOTE: sync this value with "structured query builder"!
    filter:                 '',
    sort_map:               {
                              'none'            : '',
                              'relevance-desc'  : '',
                              'relevance-asc'   : '',
                              'date-desc'       : '',
                              'date-asc'        : '',
                              'random'          : '',
                              'citations-desc'  : '',
                              'citations-asc'   : '',
                              'title-desc'      : '',
                              'title-asc'       : '',
                              'distance-desc'   : '',
                              'distance-asc'    : '',
                            },
    count_url:              '${datasources.wikidata.endpoint}?format=${datasources.wikidata.format}&query=SELECT (COUNT(*) AS ?count) WHERE { hint:Query hint:optimizer "None".  VALUES ?searchTerm { "${term}" } SERVICE wikibase:mwapi { bd:serviceParam wikibase:api "EntitySearch".  bd:serviceParam wikibase:endpoint "www.wikidata.org".  bd:serviceParam mwapi:search ?searchTerm.  bd:serviceParam mwapi:language "${explore.language}".  ?item wikibase:apiOutputItem mwapi:item.  } ${ setWikidataQueryFilter() } SERVICE wikibase:label { bd:serviceParam wikibase:language "${explore.language}". } }',
    url:                    '${datasources.wikidata.endpoint}?format=${datasources.wikidata.format}&query=SELECT ?item ?itemLabel WHERE { hint:Query hint:optimizer "None".  VALUES ?searchTerm { "${term}" } SERVICE wikibase:mwapi { bd:serviceParam wikibase:api "EntitySearch".  bd:serviceParam wikibase:endpoint "www.wikidata.org".  bd:serviceParam mwapi:search ?searchTerm.  bd:serviceParam mwapi:language "${explore.language}".  ?item wikibase:apiOutputItem mwapi:item.  } ${ setWikidataQueryFilter() } SERVICE wikibase:label { bd:serviceParam wikibase:language "${explore.language}". } } OFFSET ${ (explore.page -1) * datasources.wikidata.pagesize } LIMIT ${datasources.wikidata.pagesize}',
    icon:                   '<img class="datasource-icon" alt="Wikidata datasource" src="/assets/icons/wikidata.png"></img>',
    display_url:            'https://${explore.host}${explore.base}/app/wikidata/?q=${qid}&lang=${language}',
    code_autocomplete:      'autocompleteWikidata( r, dataset )',
    code_data_collect:      'processResultsWikidata( my_promises, topicResults, struct, index );',
    code_resolve:           'resolveWikidata( result, renderObject )',
    code_count:             'countWikidata( r, struct, index )',
    code_render_mark:       'renderMarkWikidata( inputs, source, q_, show_raw_results, id )',
    instance:               'https://www.wikidata.org',             // Wikibase specific
    instance_api:           'https://www.wikidata.org/w/api.php',   // Wikibase specific
    autocomplete_active:    true,
    autocomplete_protocol:  'sparql',
    autocomplete_url:       '${datasources.wikidata.endpoint}?format=${datasources.wikidata.autocomplete_format}&query=SELECT DISTINCT ?item ?itemLabel { hint:Query hint:optimizer "None".  VALUES ?searchTerm { "${term}" } SERVICE wikibase:mwapi { bd:serviceParam wikibase:api "EntitySearch".  bd:serviceParam wikibase:endpoint "www.wikidata.org".  bd:serviceParam wikibase:limit ${datasources.wikidata.autocomplete_limit} .  bd:serviceParam mwapi:search ?searchTerm.  bd:serviceParam mwapi:language "${explore.language}".  ?item wikibase:apiOutputItem mwapi:item. ?num wikibase:apiOrdinal true.  } ?item (wdt:P279|wdt:P31) ?type. ${ setWikidataQueryFilter() } SERVICE wikibase:label { bd:serviceParam wikibase:language "${explore.language}". } } ORDER BY ?searchTerm ?num',
    autocomplete_format:    'json',
    autocomplete_connect:   'json',
    autocomplete_limit:     5,
    autocomplete_mode:      '',
  },

  'commons': {
    active:                 false,
    name:                   'Wikimedia Commons',
    description:            'media library',
    tag:                    'arts-culture',
    qid:                    'Q565',
    protocol:               'rest',
    endpoint:               'https://commons.wikimedia.org/w/api.php', // see: https://commons.wikimedia.org/w/api.php
    format:                 'json',
    connect:                'json',
    pagesize:               4,
    sort_map:               {  // no sort available?
                                // https://phabricator.wikimedia.org/T219576
                                // https://www.mediawiki.org/wiki/Help:CirrusSearch
                              'none'            : '',
                              'relevance-desc'  : '',
                              'relevance-asc'   : '',
                              'date-desc'       : '',
                              'date-asc'        : '',
                              'random'          : '',
                              'citations-desc'  : '',
                              'citations-asc'   : '',
                              'title-desc'      : '',
                              'title-asc'       : '',
                              'distance-desc'   : '',
                              'distance-asc'    : '',
                            },
                            // FIXME: one duplicate topic on each fetched page
    url:                    '${datasources.commons.endpoint}?action=query&cirrusDumpResult=true&format=json&generator=search&gsrlimit=${datasources.commons.pagesize}&gsrnamespace=6&gsroffset=${ (explore.page -1) * ( datasources.commons.pagesize + 1 ) }&gsrsearch=filetype:bitmap|drawing%20-fileres:0%20custommatch:depicts_or_linked_from=${explore.q_qid}&origin=*',
    icon:                   '<img class="datasource-icon" alt="Wikimedia Commons datasource" src="/assets/icons/commons.svg" alt="Wikimedia Commons logo">',
    display_url:            'https://commons.wikimedia.org/wiki/File:${ file }',
    code_autocomplete:      'autocompleteCommons( r, dataset )',
    code_data_collect:      'my_promises.push( processResultsCommons( topicResults, struct, index ) );',
    code_resolve:           'resolveCommons( result, renderObject )',
    code_render_mark:       'renderMarkCommons( inputs, source, q_, show_raw_results, id )',
    autocomplete_active:    false, // TODO?
    autocomplete_protocol:  'json',
    autocomplete_url:       '${datasources.commons.endpoint}/suggest?q=${term}&limit=${datasources.commons.autocomplete_limit}&offset=0',
    autocomplete_format:    'json',
    autocomplete_connect:   'json',
    autocomplete_limit:     4,
  },

  'archive': {
    active:                 false,
    name:                   'Internet Archive',
    description:            'media library',
    tag:                    'arts-culture',
    qid:                    'Q461',
    protocol:               'rest',
    endpoint:               'https://archive.org/advancedsearch.php',
    format:                 'json',
    connect:                'json',
    pagesize:               5,
    sort_map:               { // see: https://archive.org/advancedsearch.php
                              'none'            : '',
                              'relevance-desc'  : '',
                              'relevance-asc'   : '',
                              'date-desc'       : 'publicdate+desc',
                              'date-asc'        : 'publicdate+asc',
                              'random'          : '',
                              'citations-desc'  : '',
                              'citations-asc'   : '',
                              'title-desc'      : 'titleSorter+desc',
                              'title-asc'       : 'titleSorter+asc',
                              'distance-desc'   : '',
                              'distance-asc'    : '',
                            },
    url:                    '${datasources.archive.endpoint}?sort[]=${sortby}&rows=${datasources.archive.pagesize}&output=json&page=${explore.page}&language%3A"${ wp_languages[ explore.language ].name }"&q=%22${term}%22',
    icon:                   '<img class="datasource-icon" alt="Internet Archive datasource" src="/assets/icons/archive.svg" alt="Internet Archive logo">',
    display_url:            'https://archive.org/details/${gid}/?q=%22${term}%22&autoplay=1',
    // TODO: search_url:    'https://archive.org/search?query=${term}&language%3A"${ wp_languages[ explore.language ].name }"',
    code_autocomplete:      'autocompleteArchive( r, dataset )',
    code_data_collect:      'my_promises.push( processResultsArchive( topicResults, struct, index ) );',
    code_resolve:           'resolveArchive( result, renderObject )',
    code_render_mark:       'renderMarkArchive( inputs, source, q_, show_raw_results, id )',
    autocomplete_active:    true,
    autocomplete_protocol:  'json',
    autocomplete_url:       '${datasources.archive.endpoint}?sort[]=${sortby}&rows=${datasources.archive.autocomplete_limit}&output=json&page=1&language%3A"${ wp_languages[ explore.language ].name }"&fl[]=title&q=%22${term}%22',
    autocomplete_format:    'json',
    autocomplete_connect:   'json',
    autocomplete_limit:     5,
  },

  'archive_scholar': {
    active:                 false,
    name:                   'Internet Archive Scholar',
    description:            'science articles',
    tag:                    'science',
    qid:                    'Q115667709',
    protocol:               'rest',
    endpoint:               'https://scholar.archive.org', // see: https://scholar.archive.org/api/redoc
    format:                 'json',
    connect:                'json',
    pagesize:               5,
    sort_map:               {
                              'none'            : 'relevancy',
                              'relevance-desc'  : 'relevancy',
                              'relevance-asc'   : 'relevancy',
                              'date-desc'       : 'time_desc',
                              'date-asc'        : 'time_asc',
                              'random'          : 'time_asc',
                              'citations-desc'  : 'relevancy',
                              'citations-asc'   : 'relevancy',
                              'title-desc'      : 'relevancy',
                              'title-asc'       : 'relevancy',
                              'distance-desc'   : 'relevancy',
                              'distance-asc'    : 'relevancy',
                            },
    url:                    '${datasources.archive_scholar.endpoint}/search?sort_order=${sortby}&limit=${datasources.archive_scholar.pagesize}&offset=${ (explore.page -1) * datasources.archive_scholar.pagesize }&q=lang%3A${language}+"${term}"',
    icon:                   '<img class="datasource-icon" alt="Internet Archive Scholar datasource" src="/assets/icons/archive_scholar.svg" alt="Internet Archive Scholar logo">',
    display_url:            '${url}',
    code_autocomplete:      'autocompleteArchiveScholar( r, dataset )',
    code_data_collect:      'my_promises.push( processResultsArchiveScholar( topicResults, struct, index ) );',
    code_resolve:           'resolveArchiveScholar( result, renderObject )',
    code_render_mark:       'renderMarkArchiveScholar( inputs, source, q_, show_raw_results, id )',
    autocomplete_active:    true,
    autocomplete_protocol:  'json',
    autocomplete_url:       '${datasources.archive_scholar.endpoint}/search?sort_order=${sortby}&limit=${datasources.archive_scholar.pagesize}&offset=0&q=lang%3A${language}+"${term}"',
    autocomplete_format:    'json',
    autocomplete_connect:   'json',
    autocomplete_limit:     5,
  },

  'openalex': {
    active:                 false,
    name:                   'OpenAlex',
    description:            'science articles',
    tag:                    'science',
    qid:                    'Q107507571',
    protocol:               'rest',
    endpoint:               'https://api.openalex.org/works', // see: https://docs.openalex.org/how-to-use-the-api/api-overview
    format:                 'json',
    connect:                'json',
    pagesize:               5,
    sort_map:               {
                              'none'            : 'relevance_score:desc',
                              'relevance-desc'  : 'relevance_score:desc',
                              'relevance-asc'   : 'relevance_score:asc',
                              'date-desc'       : 'publication_date:desc',
                              'date-asc'        : 'publication_date:asc',
                              'random'          : 'display_name',
                              'citations-desc'  : 'cited_by_count:desc',
                              'citations-asc'   : 'cited_by_count:asc',
                              'title-desc'      : 'display_name:desc',
                              'title-asc'       : 'display_name:asc',
                              'distance-desc'   : 'relevance_score:desc',
                              'distance-asc'    : 'relevance_score:desc',
                            },
    url:                    '${datasources.openalex.endpoint}?search="${term}"&sort=${sortby}&filter=language:${explore.language},language:en&page=${explore.page}&per-page=${datasources.openalex.pagesize}',
    icon:                   '<img class="datasource-icon" alt="OpenAlex logo" src="/assets/icons/openalex.svg" alt="OpenAlex logo">',
    display_url:            '${url}',
    code_autocomplete:      'autocompleteOpenAlex( r, dataset )',
    code_data_collect:      'my_promises.push( processResultsOpenAlex( topicResults, struct, index ) );',
    code_resolve:           'resolveOpenAlex( result, renderObject )',
    code_render_mark:       'renderMarkOpenAlex( inputs, source, q_, show_raw_results, id )',
    autocomplete_active:    true,
    autocomplete_protocol:  'json',
    autocomplete_url:       '${datasources.openalex.endpoint}?search=${term}&sort=${sortby}&filter=language:{explore.language},language:en&page=1&per-page=${datasources.openalex.autocomplete_limit}',
    autocomplete_format:    'json',
    autocomplete_connect:   'json',
    autocomplete_limit:     5,
  },

  'arxiv': {
    active:                 false,
    name:                   'arXiv',
    description:            'science articles',
    tag:                    'science',
    qid:                    'Q118398',
    protocol:               'rest',
    endpoint:               'https://export.arxiv.org/api/query', // see: https://info.arxiv.org/help/api/user-manual.html
    format:                 'json',
    connect:                'xml',
    pagesize:               5,
    sort_map:               {
                              'none'            : 'relevance',
                              'relevance-desc'  : 'relevance',
                              'relevance-asc'   : 'relevance',
                              'date-desc'       : 'submittedDate',
                              'date-asc'        : 'submittedDate',
                              'random'          : '',
                              'citations-desc'  : '',
                              'citations-asc'   : '',
                              'title-desc'      : '',
                              'title-asc'       : '',
                              'distance-desc'   : '',
                              'distance-asc'    : '',
                            },
                            // TODO: "sortOrder=ascending|descending" is an separate parameter, how to handle?
    url:                    '${datasources.arxiv.endpoint}?search_query=all:"${term}"&sortBy=${sortby}&sortOrder=descending&start=${ ( explore.page - 1) * datasources.arxiv.pagesize }&max_results=${datasources.arxiv.pagesize}&sortBy=relevance&sortOrder=descending',
    icon:                   '<img class="datasource-icon" alt="arXiv logo" src="/assets/icons/arxiv.svg" alt="arXiv logo">',
    display_url:            '${url}',
    code_autocomplete:      'autocompleteArxiv( r, dataset )',
    code_data_collect:      'my_promises.push( processResultsArxiv( topicResults, struct, index ) );',
    code_resolve:           'resolveArxiv( result, renderObject )',
    code_render_mark:       'renderMarkArxiv( inputs, source, q_, show_raw_results, id )',
    autocomplete_active:    true,
    autocomplete_protocol:  'json',
    autocomplete_url:       '${datasources.arxiv.endpoint}?search_query=all:"${term}"&sortBy=${sortby}&start=0&max_results=${datasources.arxiv.autocomplete_limit}&sortBy=relevance&sortOrder=descending',
    autocomplete_format:    'json',
    autocomplete_connect:   'xml',
    autocomplete_limit:     5,
  },

  'europeana': {
    active:                 false,
    name:                   'Europeana',
    description:            '🇪🇺 European media library',
    tag:                    'arts-culture',
    qid:                    'Q461',
    protocol:               'rest',
    endpoint:               'https://api.europeana.eu', // see: https://pro.europeana.eu/page/search
    format:                 'json',
    connect:                'json',
    pagesize:               5,
    sort_map:               {
                              'none'            : 'score+desc',
                              'relevance-desc'  : 'score+desc',
                              'relevance-asc'   : 'score+asc',
                              'date-desc'       : 'timestamp_created+desc',
                              'date-asc'        : 'timestamp_created+asc',
                              'random'          : 'random+asc',
                              'citations-desc'  : 'score+desc',
                              'citations-asc'   : 'score+desc',
                              'title-desc'      : 'score+desc',
                              'title-asc'       : 'score+desc',
                              'distance-desc'   : 'score+desc',
                              'distance-asc'    : 'score+desc',
                            },
    url:                    '${datasources.europeana.endpoint}/record/search.json?wskey=4ZViVZKMe&view=grid&query=${term}&sort=${sortby}&profile=standard&rows=${datasources.europeana.pagesize}&start=${ ( (explore.page -1) * datasources.europeana.pagesize ) + 1 }',
    icon:                   '<img class="datasource-icon" alt="Europeana datasource" src="/assets/icons/europeana.svg" alt="Europeana logo">',
    display_url:            'https://www.europeana.eu/${language}/item${gid}',
    code_autocomplete:      'autocompleteEuropeana( r, dataset )',
    code_data_collect:      'my_promises.push( processResultsEuropeana( topicResults, struct, index ) );',
    code_resolve:           'resolveEuropeana( result, renderObject )',
    code_render_mark:       'renderMarkEuropeana( inputs, source, q_, show_raw_results, id )',
    autocomplete_active:    true,
    autocomplete_protocol:  'json',
    autocomplete_url:       '${datasources.europeana.endpoint}/entity/suggest?wskey=4ZViVZKMe&text=${term}&sort=${sortby}&rows=${datasources.europeana.autocomplete_limit}&type=&scope=europeana&language=${explore.language}',
    autocomplete_format:    'json',
    autocomplete_connect:   'json',
    autocomplete_limit:     5,
  },

  'rijksmuseum': {
    active:                 false,
    name:                   'Rijksmuseum',
    description:            '🇳🇱 museum image library',
    tag:                    'arts-culture',
    qid:                    'Q190804',
    protocol:               'rest',
    endpoint:               'https://www.rijksmuseum.nl/api', // see: https://data.rijksmuseum.nl/object-metadata/api/
    format:                 'json',
    connect:                'json',
    pagesize:               4,
    sort_map:               {
                              'none'            : 'relevance',
                              'relevance-desc'  : 'relevance',
                              'relevance-asc'   : 'relevance',
                              'date-desc'       : 'achronologic',
                              'date-asc'        : 'chronologic',
                              'random'          : 'objecttype',
                              'citations-desc'  : 'relevance',
                              'citations-asc'   : 'relevance',
                              'title-desc'      : 'artist',     // note: not quite the same
                              'title-asc'       : 'artistdesc', // note: not quite the same
                              'distance-desc'   : 'relevance',
                              'distance-asc'    : 'relevance',
                            },
    url:                    '${datasources.rijksmuseum.endpoint}/${ selectLanguageFrom( ["nl", "en"], "en" ) }/collection?key=8MT2OLE3&imgonly=true&s=${sortby}&p=${explore.page}&ps=${datasources.rijksmuseum.pagesize}&culture=${ selectLanguageFrom( ["nl", "en"], "en" ) }&q=%22${ removebracesTitle(term) }%22',
    icon:                   '<img class="datasource-icon" alt="Rijksmuseum datasource" src="/assets/icons/rijksmuseum.svg" alt="Rijksmuseum logo">',
    display_url:            'https://www.rijksmuseum.nl/${ selectLanguageFrom( ["nl", "en"], "en" ) }/${ valid ( explore.language === "nl" )? "collectie" : "collection" }/${gid}',
    code_autocomplete:      'autocompleteRijksmuseum( r, dataset )',
    code_data_collect:      'my_promises.push( processResultsRijksmuseum( topicResults, struct, index ) );',
    code_resolve:           'resolveRijksmuseum( result, renderObject )',
    code_render_mark:       'renderMarkRijksmuseum( inputs, source, q_, show_raw_results, id )',
    autocomplete_active:    true,
    autocomplete_protocol:  'json',
    autocomplete_url:       '${datasources.rijksmuseum.endpoint}/${ selectLanguageFrom( ["nl", "en"], "en" ) }/collection?key=8MT2OLE3&imgonly=true&s=${sortby}&p=1&ps=${datasources.rijksmuseum.autocomplete_limit}&culture=${ selectLanguageFrom( ["nl", "en"], "en" ) }&q=${ removebracesTitle(term) }',
    autocomplete_format:    'json',
    autocomplete_connect:   'json',
    autocomplete_limit:     5,
  },

  'gleif': {
    active:                 false,
    name:                   'GLEIF',
    description:            'legal entities',
    tag:                    'business',
    qid:                    'Q6517388',
    protocol:               'rest',
    endpoint:               'https://api.gleif.org/api/v1/lei-records', // see: https://documenter.getpostman.com/view/7679680/SVYrrxuU?version=latest
    format:                 'json',
    connect:                'json',
    pagesize:               5,
    sort_map:               { // MAYBE TODO: see sortable field: https://api.gleif.org/api/v1/fields the use as: "sort=entity.legalName"
                              'none'            : '',
                              'relevance-desc'  : '',
                              'relevance-asc'   : '',
                              'date-desc'       : '',
                              'date-asc'        : '',
                              'random'          : '',
                              'citations-desc'  : '',
                              'citations-asc'   : '',
                              'title-desc'      : '',
                              'title-asc'       : '',
                              'distance-desc'   : '',
                              'distance-asc'    : '',
                            },
    url:                    '${datasources.gleif.endpoint}?page[size]=${datasources.gleif.pagesize}&page[number]=${explore.page}&filter[entity.names]=${term}',
    icon:                   '<img class="datasource-icon" alt="GLEIF datasource" src="/assets/icons/gleif.svg" alt="Gleif logo">',
    display_url:            'https://www.lei-lookup.com/record/${gid}/',
    code_autocomplete:      'autocompleteGleif( r, dataset )',
    code_data_collect:      'my_promises.push( processResultsGleif( topicResults, struct, index ) );',
    code_resolve:           'resolveGleif( result, renderObject )',
    code_render_mark:       'renderMarkGleif( inputs, source, q_, show_raw_results, id )',
    autocomplete_active:    true,
    autocomplete_protocol:  'json',
    autocomplete_url:       '${datasources.gleif.endpoint}?page[size]=${datasources.gleif.autocomplete_limit}&page[number]=1&filter[entity.names]=${term}',
    autocomplete_format:    'json',
    autocomplete_connect:   'json',
    autocomplete_limit:     5,
  },

  'eu': {
    active:                 false,
    name:                   'EU',
    tag:                    'government',
    description:            '🇪🇺 European Union datasets - BETA',
    qid:                    'Q458',
    protocol:               'rest',
    endpoint:               'https://data.europa.eu/api/hub/search/search', // see: https://data.europa.eu/api/hub/search/
    format:                 'json',
    connect:                'json',
    pagesize:               5,
    sort_map:               {
                              'none'            : 'relevance%2Bdesc',
                              'relevance-desc'  : 'relevance%2Bdesc',
                              'relevance-asc'   : 'relevance%2Basc',
                              'date-desc'       : 'modified%2Bdesc', // note: using "modified"-date instead of "issued"-date
                              'date-asc'        : 'modified%2Basc',  // note: using "modified"-date instead of "issued"-date
                              'random'          : 'relevance%2Bdesc',
                              'citations-desc'  : 'relevance%2Bdesc',
                              'citations-asc'   : 'relevance%2Bdesc',
                              'title-desc'      : 'title.en%2Bdesc',
                              'title-asc'       : 'title.en%2Basc',
                              'distance-desc'   : 'relevance%2Bdesc',
                              'distance-asc'    : 'relevance%2Bdesc',
                            },
    url:                    '${datasources.eu.endpoint}?q=${term}&filter=dataset&limit=${datasources.eu.pagesize}&page=${explore.page - 1}&sort=${sortby},+modified%2Bdesc,+title.en%2Basc&facetOperator=AND&facetGroupOperator=AND&dataServices=false&facets={"publisher":[],"format":[],"catalog":[],"categories":[],"keywords":[],"country":[],"license":[]}',
    icon:                   '<img class="datasource-icon" alt="European Union datasource" src="/assets/icons/eu.svg" alt="EU flag">',
    display_url:            'https://data.europa.eu/data/datasets/${gid}?locale=${ selectLanguageFrom( ["en","nl","es","de","it","fr"], "en" ) }',
    code_autocomplete:      'autocompleteEU( r, dataset )',
    code_data_collect:      'my_promises.push( processResultsEU( topicResults, struct, index ) );',
    code_resolve:           'resolveEU( result, renderObject )',
    code_render_mark:       'renderMarkEU( inputs, source, q_, show_raw_results, id )',
    autocomplete_active:    true,
    autocomplete_protocol:  'json',
    autocomplete_url:       '${datasources.eu.endpoint}?q=${term}&filter=dataset&limit=${datasources.eu.autocomplete_limit}&page=0&sort=${sortby},+modified%2Bdesc,+title.en%2Basc&facetOperator=AND&facetGroupOperator=AND&dataServices=false&facets={"publisher":[],"format":[],"catalog":[],"categories":[],"keywords":[],"country":[],"license":[]}',
    autocomplete_format:    'json',
    autocomplete_connect:   'json',
    autocomplete_limit:     5,
  },

  'gbif': {
    active:                 false,
    name:                   'GBIF',
    description:            'biodiversity data archive - BETA',
    tag:                    'science',
    qid:                    'Q1531570',
    protocol:               'rest',
    endpoint:               'https://api.gbif.org/v1/species', // see: https://www.gbif.org/developer/species
    format:                 'json',
    connect:                'json',
    pagesize:               5,
    sort_map:               {
                              'none'            : '',
                              'relevance-desc'  : '',
                              'relevance-asc'   : '',
                              'date-desc'       : '',
                              'date-asc'        : '',
                              'random'          : '',
                              'citations-desc'  : '',
                              'citations-asc'   : '',
                              'title-desc'      : '',
                              'title-asc'       : '',
                              'distance-desc'   : '',
                              'distance-asc'    : '',
                            },
    url:                    '${datasources.gbif.endpoint}/search?verbose=true&rank=species&q=${term}&limit=${datasources.gbif.pagesize}&offset=${ (explore.page -1) * datasources.gbif.pagesize }',
    icon:                   '<img class="datasource-icon" alt="GBIF datasource" src="/assets/icons/gbif.png" alt="GBIF logo">',
    display_url:            'https://${explore.host}${explore.base}/app/response/gbif-map.php?l=${explore.language}&t=${title}&id=${gid}',
    code_autocomplete:      'autocompleteGBIF( r, dataset )',
    code_data_collect:      'my_promises.push( processResultsGBIF( topicResults, struct, index ) );',
    code_resolve:           'resolveGBIF( result, renderObject )',
    code_render_mark:       'renderMarkGBIF( inputs, source, q_, show_raw_results, id )',
    autocomplete_active:    true,
    autocomplete_protocol:  'json',
    autocomplete_url:       '${datasources.gbif.endpoint}/suggest?q=${term}&limit=${datasources.gbif.autocomplete_limit}&offset=0',
    autocomplete_format:    'json',
    autocomplete_connect:   'json',
    autocomplete_limit:     5,
  },

  /*
  'inaturalist': {
    active:                 false,
    name:                   'iNaturalist',
    description:            'taxon observations - BETA',
    tag:                    'science',
    qid:                    'Q16958215',
    protocol:               'rest',
    endpoint:               'https://api.inaturalist.org/v1/taxa', // see: https://api.inaturalist.org/v1/docs/#!/Taxa/get_taxa
    format:                 'json',
    connect:                'json',
    pagesize:               5,
    sort_map:               {
                              'none'            : '',
                              'relevance-desc'  : '',
                              'relevance-asc'   : '',
                              'date-desc'       : '',
                              'date-asc'        : '',
                              'random'          : '',
                              'citations-desc'  : '',
                              'citations-asc'   : '',
                              'title-desc'      : '',
                              'title-asc'       : '',
                              'distance-desc'   : '',
                              'distance-asc'    : '',
                            },
    url:                    '${datasources.inaturalist.endpoint}?q="${term}"&order=desc&page=${explore.page}&per_page=${datasources.inaturalist.pagesize}',
    icon:                   '<img class="datasource-icon" alt="iNaturalist logo" src="/assets/icons/inaturalist.svg" alt="iNaturalist logo">',
    display_url:            '${url}',
    code_autocomplete:      'autocompleteInaturalist( r, dataset )',
    code_data_collect:      'my_promises.push( processResultsInaturalist( topicResults, struct, index ) );',
    code_resolve:           'resolveInaturalist( result, renderObject )',
    code_render_mark:       'renderMarkInaturalist( inputs, source, q_, show_raw_results, id )',
    autocomplete_active:    true,
    autocomplete_protocol:  'json',
    autocomplete_url:       '${datasources.inaturalist.endpoint}?q="${term}"&order=desc&page=1&per_page=${datasources.inaturalist.autocomplete_limit}',
    autocomplete_format:    'json',
    autocomplete_connect:   'json',
    autocomplete_limit:     5,
  },
  */

  'smithsonian3D': {
    active:                 false,
    name:                   'Smithsonian 3D',
    description:            '🇺🇸 physical object scans - BETA',
    tag:                    'arts-culture',
    qid:                    'Q131626',
    protocol:               'rest',
    endpoint:               'https://3d-api.si.edu/api/v1.0/content/file/search', // see: https://3d-api.si.edu/api-docs/
    format:                 'json',
    connect:                'json',
    pagesize:               5,
    sort_map:               {
                              'none'            : '',
                              'relevance-desc'  : '',
                              'relevance-asc'   : '',
                              'date-desc'       : '',
                              'date-asc'        : '',
                              'random'          : '',
                              'citations-desc'  : '',
                              'citations-asc'   : '',
                              'title-desc'      : '',
                              'title-asc'       : '',
                              'distance-desc'   : '',
                              'distance-asc'    : '',
                            },
                            // FIXME: &q=mandible AND how to specify more than one file format?
    url:                    '${datasources.smithsonian3D.endpoint}?q=${term}&model_type=gltf&rows=${datasources.smithsonian3D.pagesize}&start=${ (explore.page -1) * datasources.smithsonian3D.pagesize }',
    icon:                   '<img class="datasource-icon" alt="Smithsonian 3D datasource" src="/assets/icons/smithsonian3D.svg" alt="Smithsonian logo">',
    display_url:            'https://${explore.host}${explore.base}/app/3D/#model=${ encodeURIComponent( url )}',
    code_autocomplete:      'autocompleteSmithsonian3D( r, dataset )',
    code_data_collect:      'my_promises.push( processResultsSmithsonian3D( topicResults, struct, index ) );',
    code_resolve:           'resolveSmithsonian3D( result, renderObject )',
    code_render_mark:       'renderMarkSmithsonian3D( inputs, source, q_, show_raw_results, id )',
    autocomplete_active:    true,
    autocomplete_protocol:  'json',
    autocomplete_url:       '${datasources.smithsonian3D.endpoint}?q=${term}&model_type=gltf&rows=${datasources.smithsonian3D.autocomplete_limit}&start=0',
    autocomplete_format:    'json',
    autocomplete_connect:   'json',
    autocomplete_limit:     5,
  },

  /*
  'rkd': {
    active:                 false,
    name:                   'RKD',
    description:            '🇳🇱 art-history library - FAILING',
    tag:                    'arts-culture',
    qid:                    'Q758610',
    protocol:               'rest',
    // see: https://api.rkd.nl/api
    //endpoint:             'https://api.rkd.nl/api/instant/images',
    endpoint:               '/app/proxy/rkd',
    format:                 'json',
    connect:                'json',
    pagesize:               5,
    sort_map:               {
                              'none'            : '',
                              'relevance-desc'  : '',
                              'relevance-asc'   : '',
                              'date-desc'       : '',
                              'date-asc'        : '',
                              'random'          : '',
                              'citations-desc'  : '',
                              'citations-asc'   : '',
                              'title-desc'      : '',
                              'title-asc'       : '',
                              'distance-desc'   : '',
                              'distance-asc'    : '',
                            },
    url:                    '${datasources.rkd.endpoint}?query=${term}&format=json&rows=${datasources.rkd.pagesize}&start=${ (explore.page -1) * datasources.rkd.pagesize }',
    //url:                    '${datasources.rkd.endpoint}?query=${term}&format=json&rows=${datasources.rkd.pagesize}&start=${ (explore.page -1) * datasources.rkd.pagesize }',
    icon:                   '<img class="datasource-icon" alt="RKD datasource" src="/assets/icons/rkd.svg" alt="RKD logo">',
    display_url:            '',
    code_autocomplete:      'autocompleteRKD( r, dataset )',
    code_data_collect:      'my_promises.push( processResultsRKD( topicResults, struct, index ) );',
    code_resolve:           'resolveRKD( result, renderObject )',
    code_render_mark:       'renderMarkRKD( inputs, source, q_, show_raw_results, id )',
    autocomplete_active:    true,
    autocomplete_protocol:  'json',
    autocomplete_url:       '${datasources.rkd.endpoint}?query=${term}&format=json&rows=${datasources.rkd.autocomplete_limit}&start=0',
    //autocomplete_url:       '${datasources.rkd.endpoint}?query=${term}&format=json&rows=${datasources.rkd.autocomplete_limit}&start=0',
    autocomplete_format:    'json',
    autocomplete_connect:   'json',
    autocomplete_limit:     5,
  },
  */


  /*
  'snomed': {
    active:                 false,
    name:                   'SNOMED CT',
    description:            'medical ontology',
    tag:                    'science',
    qid:                    'Q1753883',
    protocol:               'rest',
    endpoint:               'https://browser.ihtsdotools.org/snowstorm/snomed-ct/browser/MAIN/2023-04-30/descriptions',
    format:                 'json',
    connect:                'json',
    pagesize:               5,
    sort_map:               {
                              'none'            : '',
                              'relevance-desc'  : '',
                              'relevance-asc'   : '',
                              'date-desc'       : '',
                              'date-asc'        : '',
                              'random'          : '',
                              'citations-desc'  : '',
                              'citations-asc'   : '',
                              'title-desc'      : '',
                              'title-asc'       : '',
                              'distance-desc'   : '',
                              'distance-asc'    : '',
                            },
    url:                    '${datasources.snomed.endpoint}?&limit=${datasources.snomed.pagesize}&term=${term}&active=true&conceptActive=true&lang=english&groupByConcept=true&offset=${ (explore.page -1) * datasources.snomed.pagesize }',
    icon:                   '<img class="datasource-icon" alt="SNOMED CT datasource" src="/assets/icons/snomed.png" alt="SNOMED CT logo">',
    display_url:            'https://browser.ihtsdotools.org/?perspective=full&conceptId1=${gid}/',
    code_autocomplete:      'autocompleteSnomed( r, dataset )',
    code_data_collect:      'my_promises.push( processResultsSnowmed( topicResults, struct, index ) );',
    code_resolve:           'resolveSnomed( result, renderObject )',
    code_render_mark:       'renderMarkSnomed( inputs, source, q_, show_raw_results, id )',
    autocomplete_active:    true,
    autocomplete_protocol:  'json',
    autocomplete_url:       '${datasources.snomed.endpoint}?&limit=${datasources.snomed.autocomplete_limit}&term=${term}&active=true&conceptActive=true&lang=english&groupByConcept=true&offset=0',
    autocomplete_format:    'json',
    autocomplete_connect:   'json',
    autocomplete_limit:     5,
  },
  */

};
