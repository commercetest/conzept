(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function v(){}function ie(t){return t()}function G(){return Object.create(null)}function M(t){t.forEach(ie)}function se(t){return typeof t=="function"}function H(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let S;function z(t,e){return S||(S=document.createElement("a")),S.href=e,t===S.href}function ce(t){return Object.keys(t).length===0}function P(t,e){t.appendChild(e)}function b(t,e,n){t.insertBefore(e,n||null)}function w(t){t.parentNode.removeChild(t)}function ae(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function k(t){return document.createElement(t)}function q(t){return document.createTextNode(t)}function O(){return q(" ")}function ue(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function _(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function fe(t){return Array.from(t.childNodes)}function x(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function B(t,e,n){t.classList[n?"add":"remove"](e)}function de(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,r,e),i}let I;function C(t){I=t}function pe(){if(!I)throw new Error("Function called outside component initialization");return I}function ge(){const t=pe();return(e,n,{cancelable:r=!1}={})=>{const i=t.$$.callbacks[e];if(i){const o=de(e,n,{cancelable:r});return i.slice().forEach(c=>{c.call(t,o)}),!o.defaultPrevented}return!0}}const A=[],J=[],R=[],X=[],me=Promise.resolve();let Q=!1;function _e(){Q||(Q=!0,me.then(oe))}function W(t){R.push(t)}const j=new Set;let D=0;function oe(){const t=I;do{for(;D<A.length;){const e=A[D];D++,C(e),he(e.$$)}for(C(null),A.length=0,D=0;J.length;)J.pop()();for(let e=0;e<R.length;e+=1){const n=R[e];j.has(n)||(j.add(n),n())}R.length=0}while(A.length);for(;X.length;)X.pop()();Q=!1,j.clear(),C(t)}function he(t){if(t.fragment!==null){t.update(),M(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(W)}}const T=new Set;let L;function Z(){L={r:0,c:[],p:L}}function ee(){L.r||M(L.c),L=L.p}function y(t,e){t&&t.i&&(T.delete(t),t.i(e))}function N(t,e,n,r){if(t&&t.o){if(T.has(t))return;T.add(t),L.c.push(()=>{T.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function le(t){t&&t.c()}function U(t,e,n,r){const{fragment:i,on_mount:o,on_destroy:c,after_update:g}=t.$$;i&&i.m(e,n),r||W(()=>{const f=o.map(ie).filter(se);c?c.push(...f):M(f),t.$$.on_mount=[]}),g.forEach(W)}function F(t,e){const n=t.$$;n.fragment!==null&&(M(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function we(t,e){t.$$.dirty[0]===-1&&(A.push(t),_e(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function K(t,e,n,r,i,o,c,g=[-1]){const f=I;C(t);const a=t.$$={fragment:null,ctx:null,props:o,update:v,not_equal:i,bound:G(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:G(),dirty:g,skip_bound:!1,root:e.target||f.$$.root};c&&c(a.root);let h=!1;if(a.ctx=n?n(t,e.props||{},(l,d,...u)=>{const $=u.length?u[0]:d;return a.ctx&&i(a.ctx[l],a.ctx[l]=$)&&(!a.skip_bound&&a.bound[l]&&a.bound[l]($),h&&we(t,l)),d}):[],a.update(),h=!0,M(a.before_update),a.fragment=r?r(a.ctx):!1,e.target){if(e.hydrate){const l=fe(e.target);a.fragment&&a.fragment.l(l),l.forEach(w)}else a.fragment&&a.fragment.c();e.intro&&y(t.$$.fragment),U(t,e.target,e.anchor,e.customElement),oe()}C(f)}class V{$destroy(){F(this,1),this.$destroy=v}$on(e,n){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!ce(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function be(t){let e,n,r,i;return{c(){e=k("button"),n=q(t[0]),_(e,"class","svelte-1qu0gcj"),B(e,"right",t[1]==="right"),B(e,"wrong",t[1]==="wrong")},m(o,c){b(o,e,c),P(e,n),r||(i=ue(e,"click",t[2]),r=!0)},p(o,[c]){c&1&&x(n,o[0]),c&2&&B(e,"right",o[1]==="right"),c&2&&B(e,"wrong",o[1]==="wrong")},i:v,o:v,d(o){o&&w(e),r=!1,i()}}}function ve(t,e,n){let{artistName:r,correct:i,index:o}=e;const c=ge();function g(){c("message",{index:o})}return t.$$set=f=>{"artistName"in f&&n(0,r=f.artistName),"correct"in f&&n(1,i=f.correct),"index"in f&&n(3,o=f.index)},[r,i,g,o]}class ye extends V{constructor(e){super(),K(this,e,ve,be,H,{artistName:0,correct:1,index:3})}}const ke="/assets/wikidata.5cf018e2.svg";function Ee(t){let e,n;return{c(){e=k("img"),_(e,"class","loading svelte-7mzcxr"),z(e.src,n=ke)||_(e,"src",n),_(e,"alt","Loading")},m(r,i){b(r,e,i)},p:v,i:v,o:v,d(r){r&&w(e)}}}class Le extends V{constructor(e){super(),K(this,e,null,Ee,H,{})}}class $e{constructor(e){this.endpoint=e}query(e){const n=this.endpoint+"?query="+encodeURIComponent(e)+"&ts="+Date.now();return fetch(n,{headers:{Accept:"application/sparql-results+json"}}).then(i=>i.json())}}const Ne=window.getParameterByName("l")||"en",Pe=window.getParameterByName("p1"),Ae="https://query.wikidata.org/sparql",qe=`SELECT ?painter ?painterLabel ?painting ?paintingLabel ?image WITH {
  SELECT ?painter ?painting ?image WHERE {
    ?painting wdt:P18 ?image .
    ?painting wdt:P31 wd:Q3305213 . # instance of (P31) painting (Q3305213)
    ?painting wdt:P170 ?painter .   # created by (P170)
    ?painter wdt:P106 wd:Q1028181 . # give me all people with occupation (P106) painter (Q1028181)
    ?painter wdt:P135 wd:${Pe} .   # who belonged to the this requested movement (P135)
    BIND(MD5(CONCAT(str(?painting),str(RAND()))) as ?random)
  }
  ORDER BY ?random
  LIMIT 5
} AS %results WHERE {
  INCLUDE %results.
  SERVICE wikibase:label { bd:serviceParam wikibase:language "${Ne},en,fr,es,de,pt,nl". }
}`,Ce=new $e(Ae);function te(t,e,n){const r=t.slice();return r[8]=e[n],r[10]=n,r}function Ie(t){let e,n;return{c(){e=k("img"),z(e.src,n=t[1])||_(e,"src",n),_(e,"alt","A random painting"),_(e,"class","svelte-ztwnzl")},m(r,i){b(r,e,i)},p(r,i){i&2&&!z(e.src,n=r[1])&&_(e,"src",n)},i:v,o:v,d(r){r&&w(e)}}}function Me(t){let e,n;return e=new Le({}),{c(){le(e.$$.fragment)},m(r,i){U(e,r,i),n=!0},p:v,i(r){n||(y(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){F(e,r)}}}function ne(t){let e,n,r=t[2].painterLabel.value+"",i,o,c=t[2].paintingLabel.value+"",g,f,a,h;return{c(){e=k("p"),n=k("a"),i=q(r),o=q(" - "),g=q(c),a=O(),h=k("p"),h.innerHTML='<button onclick="window.location.reload();"><strong><span class="reload svelte-ztwnzl">\u27A1</span></strong></button>',_(n,"href","javascript:void(0)"),_(n,"role","button"),_(n,"onclick",f='window.gotoWikidata( "'+t[2].painting.value+'" )')},m(l,d){b(l,e,d),P(e,n),P(n,i),P(n,o),P(n,g),b(l,a,d),b(l,h,d)},p(l,d){d&4&&r!==(r=l[2].painterLabel.value+"")&&x(i,r),d&4&&c!==(c=l[2].paintingLabel.value+"")&&x(g,c),d&4&&f!==(f='window.gotoWikidata( "'+l[2].painting.value+'" )')&&_(n,"onclick",f)},d(l){l&&w(e),l&&w(a),l&&w(h)}}}function re(t){let e,n,r;return n=new ye({props:{index:t[10],artistName:t[8].painterLabel.value,correct:t[8].correct}}),n.$on("message",t[5]),{c(){e=k("p"),le(n.$$.fragment)},m(i,o){b(i,e,o),U(n,e,null),r=!0},p(i,o){const c={};o&1&&(c.artistName=i[8].painterLabel.value),o&1&&(c.correct=i[8].correct),n.$set(c)},i(i){r||(y(n.$$.fragment,i),r=!0)},o(i){N(n.$$.fragment,i),r=!1},d(i){i&&w(e),F(n)}}}function Se(t){let e,n,r,i,o,c,g;const f=[Me,Ie],a=[];function h(s,p){return s[4]?0:1}e=h(t),n=a[e]=f[e](t);let l=t[3]&&ne(t),d=t[0],u=[];for(let s=0;s<d.length;s+=1)u[s]=re(te(t,d,s));const $=s=>N(u[s],1,1,()=>{u[s]=null});return{c(){n.c(),r=O(),l&&l.c(),i=O();for(let s=0;s<u.length;s+=1)u[s].c();o=O(),c=k("p"),c.innerHTML=`Powered by <a href="https://www.wikidata.org/">Wikidata</a>.
  Source code is <a href="https://github.com/dhinus/wikidata-painters/">here</a>.`,_(c,"class","notes svelte-ztwnzl")},m(s,p){a[e].m(s,p),b(s,r,p),l&&l.m(s,p),b(s,i,p);for(let E=0;E<u.length;E+=1)u[E].m(s,p);b(s,o,p),b(s,c,p),g=!0},p(s,[p]){let E=e;if(e=h(s),e===E?a[e].p(s,p):(Z(),N(a[E],1,1,()=>{a[E]=null}),ee(),n=a[e],n?n.p(s,p):(n=a[e]=f[e](s),n.c()),y(n,1),n.m(r.parentNode,r)),s[3]?l?l.p(s,p):(l=ne(s),l.c(),l.m(i.parentNode,i)):l&&(l.d(1),l=null),p&33){d=s[0];let m;for(m=0;m<d.length;m+=1){const Y=te(s,d,m);u[m]?(u[m].p(Y,p),y(u[m],1)):(u[m]=re(Y),u[m].c(),y(u[m],1),u[m].m(o.parentNode,o))}for(Z(),m=d.length;m<u.length;m+=1)$(m);ee()}},i(s){if(!g){y(n);for(let p=0;p<d.length;p+=1)y(u[p]);g=!0}},o(s){N(n),u=u.filter(Boolean);for(let p=0;p<u.length;p+=1)N(u[p]);g=!1},d(s){a[e].d(s),s&&w(r),l&&l.d(s),s&&w(i),ae(u,s),s&&w(o),s&&w(c)}}}function Be(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t)+t)}function De(t,e,n){let r=[],i,o,c,g,f=!0;Ce.query(qe).then(l=>{n(4,f=!1),n(0,r=l.results.bindings),o=Be(0,5),n(2,c=r[o]),n(1,i=c.image.value)});function a(){n(3,g=!0),r.forEach(l=>{l.correct!=="right"&&(l.correct="wrong")})}function h(l){const d=l.detail.index;d===o?(n(0,r[d].correct="right",r),a()):n(0,r[d].correct="wrong",r);const u=r[d].painterLabel.value,$=r[d].painter.value.split("/").pop();window.gotoPage($,u)}return[r,i,c,g,f,h]}class Oe extends V{constructor(e){super(),K(this,e,De,Se,H,{})}}new Oe({target:document.getElementById("app")});
