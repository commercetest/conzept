(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function v(){}function ie(t){return t()}function Z(){return Object.create(null)}function D(t){t.forEach(ie)}function ce(t){return typeof t=="function"}function U(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let M;function T(t,e){return M||(M=document.createElement("a")),M.href=e,t===M.href}function ae(t){return Object.keys(t).length===0}function $(t,e){t.appendChild(e)}function y(t,e,n){t.insertBefore(e,n||null)}function w(t){t.parentNode.removeChild(t)}function ue(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function k(t){return document.createElement(t)}function A(t){return document.createTextNode(t)}function C(){return A(" ")}function fe(){return A("")}function de(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function g(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function pe(t){return Array.from(t.childNodes)}function Q(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function O(t,e,n){t.classList[n?"add":"remove"](e)}function me(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,r,e),i}let B;function I(t){B=t}function ge(){if(!B)throw new Error("Function called outside component initialization");return B}function _e(){const t=ge();return(e,n,{cancelable:r=!1}={})=>{const i=t.$$.callbacks[e];if(i){const o=me(e,n,{cancelable:r});return i.slice().forEach(s=>{s.call(t,o)}),!o.defaultPrevented}return!0}}const q=[],G=[],S=[],J=[],he=Promise.resolve();let F=!1;function we(){F||(F=!0,he.then(oe))}function H(t){S.push(t)}const x=new Set;let R=0;function oe(){const t=B;do{for(;R<q.length;){const e=q[R];R++,I(e),be(e.$$)}for(I(null),q.length=0,R=0;G.length;)G.pop()();for(let e=0;e<S.length;e+=1){const n=S[e];x.has(n)||(x.add(n),n())}S.length=0}while(q.length);for(;J.length;)J.pop()();F=!1,x.clear(),I(t)}function be(t){if(t.fragment!==null){t.update(),D(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(H)}}const j=new Set;let N;function X(){N={r:0,c:[],p:N}}function ee(){N.r||D(N.c),N=N.p}function E(t,e){t&&t.i&&(j.delete(t),t.i(e))}function P(t,e,n,r){if(t&&t.o){if(j.has(t))return;j.add(t),N.c.push(()=>{j.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function le(t){t&&t.c()}function z(t,e,n,r){const{fragment:i,on_mount:o,on_destroy:s,after_update:m}=t.$$;i&&i.m(e,n),r||H(()=>{const u=o.map(ie).filter(ce);s?s.push(...u):D(u),t.$$.on_mount=[]}),m.forEach(H)}function W(t,e){const n=t.$$;n.fragment!==null&&(D(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ye(t,e){t.$$.dirty[0]===-1&&(q.push(t),we(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function K(t,e,n,r,i,o,s,m=[-1]){const u=B;I(t);const d=t.$$={fragment:null,ctx:null,props:o,update:v,not_equal:i,bound:Z(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Z(),dirty:m,skip_bound:!1,root:e.target||u.$$.root};s&&s(d.root);let _=!1;if(d.ctx=n?n(t,e.props||{},(a,c,...b)=>{const f=b.length?b[0]:c;return d.ctx&&i(d.ctx[a],d.ctx[a]=f)&&(!d.skip_bound&&d.bound[a]&&d.bound[a](f),_&&ye(t,a)),c}):[],d.update(),_=!0,D(d.before_update),d.fragment=r?r(d.ctx):!1,e.target){if(e.hydrate){const a=pe(e.target);d.fragment&&d.fragment.l(a),a.forEach(w)}else d.fragment&&d.fragment.c();e.intro&&E(t.$$.fragment),z(t,e.target,e.anchor,e.customElement),oe()}I(u)}class V{$destroy(){W(this,1),this.$destroy=v}$on(e,n){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!ae(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function ve(t){let e,n,r,i;return{c(){e=k("button"),n=A(t[0]),g(e,"class","svelte-1qu0gcj"),O(e,"right",t[1]==="right"),O(e,"wrong",t[1]==="wrong")},m(o,s){y(o,e,s),$(e,n),r||(i=de(e,"click",t[2]),r=!0)},p(o,[s]){s&1&&Q(n,o[0]),s&2&&O(e,"right",o[1]==="right"),s&2&&O(e,"wrong",o[1]==="wrong")},i:v,o:v,d(o){o&&w(e),r=!1,i()}}}function ke(t,e,n){let{artistName:r,correct:i,index:o}=e;const s=_e();function m(){s("message",{index:o})}return t.$$set=u=>{"artistName"in u&&n(0,r=u.artistName),"correct"in u&&n(1,i=u.correct),"index"in u&&n(3,o=u.index)},[r,i,m,o]}class Ee extends V{constructor(e){super(),K(this,e,ke,ve,U,{artistName:0,correct:1,index:3})}}function Le(t){let e,n;return{c(){e=k("img"),g(e,"class","loading svelte-7mzcxr"),g(e,"style",""),T(e.src,n="")||g(e,"src",n),g(e,"alt","loading")},m(r,i){y(r,e,i)},p:v,i:v,o:v,d(r){r&&w(e)}}}class $e extends V{constructor(e){super(),K(this,e,null,Le,U,{})}}class Ne{constructor(e){this.endpoint=e}query(e){const n=this.endpoint+"?query="+encodeURIComponent(e)+"&ts="+Date.now();return fetch(n,{headers:{Accept:"application/sparql-results+json"}}).then(i=>i.json())}}const Pe=window.getParameterByName("l")||"en",Ae=window.getParameterByName("p1"),qe="https://query.wikidata.org/sparql",Ce=`SELECT ?painter ?painterLabel ?painting ?paintingLabel ?image WITH {
  SELECT ?painter ?painting ?image WHERE {
    ?painting wdt:P18 ?image .
    ?painting wdt:P31 wd:Q3305213 . # instance of (P31) painting (Q3305213)
    ?painting wdt:P170 ?painter .   # created by (P170)
    ?painter wdt:P106 wd:Q1028181 . # give me all people with occupation (P106) painter (Q1028181)
    ?painter wdt:P135 wd:${Ae} .   # who belonged to the this requested movement (P135)
    BIND(MD5(CONCAT(str(?painting),str(RAND()))) as ?random)
  }
  ORDER BY ?random
  LIMIT 5
} AS %results WHERE {
  INCLUDE %results.
  SERVICE wikibase:label { bd:serviceParam wikibase:language "${Pe},en,fr,es,de,pt,nl". }
}`,Ie=new Ne(qe);function te(t,e,n){const r=t.slice();return r[8]=e[n],r[10]=n,r}function Be(t){let e,n,r;return{c(){e=k("a"),n=k("img"),g(n,"class","thumbimage enlargable svelte-1rwuuk1"),T(n.src,r=t[1])||g(n,"src",r),g(n,"decoding","async"),g(n,"loading","lazy"),g(n,"alt","A random image"),g(e,"class","elem"),g(e,"href",t[1]),g(e,"tabindex","0"),g(e,"data-lcl-txt","...")},m(i,o){y(i,e,o),$(e,n)},p(i,o){o&2&&!T(n.src,r=i[1])&&g(n,"src",r),o&2&&g(e,"href",i[1])},i:v,o:v,d(i){i&&w(e)}}}function De(t){let e,n;return e=new $e({}),{c(){le(e.$$.fragment)},m(r,i){z(e,r,i),n=!0},p:v,i(r){n||(E(e.$$.fragment,r),n=!0)},o(r){P(e.$$.fragment,r),n=!1},d(r){W(e,r)}}}function ne(t){let e,n,r=t[2].painterLabel.value+"",i,o,s=t[2].paintingLabel.value+"",m,u,d,_;return{c(){e=k("p"),n=k("a"),i=A(r),o=A(" - "),m=A(s),d=C(),_=k("p"),_.innerHTML='<button onclick="window.location.reload();"><strong><span class="reload svelte-1rwuuk1">\u27A1</span></strong></button>',g(n,"href","javascript:void(0)"),g(n,"role","button"),g(n,"onclick",u='openInFrame( "/app/wikipedia/?t=&l='+window.getParameterByName("l")+"&qid="+t[2].painting.value.split("/").pop()+'" )')},m(a,c){y(a,e,c),$(e,n),$(n,i),$(n,o),$(n,m),y(a,d,c),y(a,_,c)},p(a,c){c&4&&r!==(r=a[2].painterLabel.value+"")&&Q(i,r),c&4&&s!==(s=a[2].paintingLabel.value+"")&&Q(m,s),c&4&&u!==(u='openInFrame( "/app/wikipedia/?t=&l='+window.getParameterByName("l")+"&qid="+a[2].painting.value.split("/").pop()+'" )')&&g(n,"onclick",u)},d(a){a&&w(e),a&&w(d),a&&w(_)}}}function re(t){let e,n,r,i;return n=new Ee({props:{index:t[10],artistName:t[8].painterLabel.value,correct:t[8].correct}}),n.$on("message",t[5]),{c(){e=k("p"),le(n.$$.fragment),r=C()},m(o,s){y(o,e,s),z(n,e,null),$(e,r),i=!0},p(o,s){const m={};s&1&&(m.artistName=o[8].painterLabel.value),s&1&&(m.correct=o[8].correct),n.$set(m)},i(o){i||(E(n.$$.fragment,o),i=!0)},o(o){P(n.$$.fragment,o),i=!1},d(o){o&&w(e),W(n)}}}function Me(t){let e,n,r,i,o,s,m,u;const d=[De,Be],_=[];function a(l,p){return l[4]?0:1}r=a(t),i=_[r]=d[r](t);let c=t[3]&&ne(t),b=t[0],f=[];for(let l=0;l<b.length;l+=1)f[l]=re(te(t,b,l));const se=l=>P(f[l],1,1,()=>{f[l]=null});return{c(){e=k("span"),e.textContent=`${window.getParameterByName("t")}`,n=C(),i.c(),o=C(),c&&c.c(),s=C();for(let l=0;l<f.length;l+=1)f[l].c();m=fe(),g(e,"id","title"),g(e,"class","svelte-1rwuuk1")},m(l,p){y(l,e,p),y(l,n,p),_[r].m(l,p),y(l,o,p),c&&c.m(l,p),y(l,s,p);for(let L=0;L<f.length;L+=1)f[L].m(l,p);y(l,m,p),u=!0},p(l,[p]){let L=r;if(r=a(l),r===L?_[r].p(l,p):(X(),P(_[L],1,1,()=>{_[L]=null}),ee(),i=_[r],i?i.p(l,p):(i=_[r]=d[r](l),i.c()),E(i,1),i.m(o.parentNode,o)),l[3]?c?c.p(l,p):(c=ne(l),c.c(),c.m(s.parentNode,s)):c&&(c.d(1),c=null),p&33){b=l[0];let h;for(h=0;h<b.length;h+=1){const Y=te(l,b,h);f[h]?(f[h].p(Y,p),E(f[h],1)):(f[h]=re(Y),f[h].c(),E(f[h],1),f[h].m(m.parentNode,m))}for(X(),h=b.length;h<f.length;h+=1)se(h);ee()}},i(l){if(!u){E(i);for(let p=0;p<b.length;p+=1)E(f[p]);u=!0}},o(l){P(i),f=f.filter(Boolean);for(let p=0;p<f.length;p+=1)P(f[p]);u=!1},d(l){l&&w(e),l&&w(n),_[r].d(l),l&&w(o),c&&c.d(l),l&&w(s),ue(f,l),l&&w(m)}}}function Oe(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t)+t)}function Re(t,e,n){let r=[],i,o,s,m,u=!0;Ie.query(Ce).then(a=>{n(4,u=!1),n(0,r=a.results.bindings),o=Oe(0,5),n(2,s=r[o]),n(1,i=s.image.value),window.setupImageClicks(),window.setupImageZoom()});function d(){n(3,m=!0),r.forEach(a=>{a.correct!=="right"&&(a.correct="wrong")})}function _(a){const c=a.detail.index;c===o?(n(0,r[c].correct="right",r),d()):n(0,r[c].correct="wrong",r);const b=r[c].painterLabel.value,f=r[c].painter.value.split("/").pop();window.gotoPage(f,b)}return[r,i,s,m,u,_]}class Se extends V{constructor(e){super(),K(this,e,Re,Me,U,{})}}new Se({target:document.getElementById("app")});
