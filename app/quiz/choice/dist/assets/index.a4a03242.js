(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function v(){}function oe(t){return t()}function G(){return Object.create(null)}function M(t){t.forEach(oe)}function ce(t){return typeof t=="function"}function U(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let S;function Q(t,e){return S||(S=document.createElement("a")),S.href=e,t===S.href}function ae(t){return Object.keys(t).length===0}function P(t,e){t.appendChild(e)}function b(t,e,n){t.insertBefore(e,n||null)}function h(t){t.parentNode.removeChild(t)}function ue(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function k(t){return document.createElement(t)}function q(t){return document.createTextNode(t)}function R(){return q(" ")}function fe(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function w(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function de(t){return Array.from(t.childNodes)}function j(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function D(t,e,n){t.classList[n?"add":"remove"](e)}function pe(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,r,e),o}let I;function C(t){I=t}function ge(){if(!I)throw new Error("Function called outside component initialization");return I}function me(){const t=ge();return(e,n,{cancelable:r=!1}={})=>{const o=t.$$.callbacks[e];if(o){const i=pe(e,n,{cancelable:r});return o.slice().forEach(c=>{c.call(t,i)}),!i.defaultPrevented}return!0}}const A=[],J=[],T=[],X=[],_e=Promise.resolve();let x=!1;function he(){x||(x=!0,_e.then(ie))}function H(t){T.push(t)}const B=new Set;let O=0;function ie(){const t=I;do{for(;O<A.length;){const e=A[O];O++,C(e),we(e.$$)}for(C(null),A.length=0,O=0;J.length;)J.pop()();for(let e=0;e<T.length;e+=1){const n=T[e];B.has(n)||(B.add(n),n())}T.length=0}while(A.length);for(;X.length;)X.pop()();x=!1,B.clear(),C(t)}function we(t){if(t.fragment!==null){t.update(),M(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(H)}}const z=new Set;let L;function Z(){L={r:0,c:[],p:L}}function ee(){L.r||M(L.c),L=L.p}function y(t,e){t&&t.i&&(z.delete(t),t.i(e))}function N(t,e,n,r){if(t&&t.o){if(z.has(t))return;z.add(t),L.c.push(()=>{z.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function le(t){t&&t.c()}function W(t,e,n,r){const{fragment:o,on_mount:i,on_destroy:c,after_update:g}=t.$$;o&&o.m(e,n),r||H(()=>{const f=i.map(oe).filter(ce);c?c.push(...f):M(f),t.$$.on_mount=[]}),g.forEach(H)}function F(t,e){const n=t.$$;n.fragment!==null&&(M(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function be(t,e){t.$$.dirty[0]===-1&&(A.push(t),he(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function K(t,e,n,r,o,i,c,g=[-1]){const f=I;C(t);const a=t.$$={fragment:null,ctx:null,props:i,update:v,not_equal:o,bound:G(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:G(),dirty:g,skip_bound:!1,root:e.target||f.$$.root};c&&c(a.root);let _=!1;if(a.ctx=n?n(t,e.props||{},(l,d,...u)=>{const $=u.length?u[0]:d;return a.ctx&&o(a.ctx[l],a.ctx[l]=$)&&(!a.skip_bound&&a.bound[l]&&a.bound[l]($),_&&be(t,l)),d}):[],a.update(),_=!0,M(a.before_update),a.fragment=r?r(a.ctx):!1,e.target){if(e.hydrate){const l=de(e.target);a.fragment&&a.fragment.l(l),l.forEach(h)}else a.fragment&&a.fragment.c();e.intro&&y(t.$$.fragment),W(t,e.target,e.anchor,e.customElement),ie()}C(f)}class V{$destroy(){F(this,1),this.$destroy=v}$on(e,n){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(e){this.$$set&&!ae(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function ve(t){let e,n,r,o;return{c(){e=k("button"),n=q(t[0]),w(e,"class","svelte-1qu0gcj"),D(e,"right",t[1]==="right"),D(e,"wrong",t[1]==="wrong")},m(i,c){b(i,e,c),P(e,n),r||(o=fe(e,"click",t[2]),r=!0)},p(i,[c]){c&1&&j(n,i[0]),c&2&&D(e,"right",i[1]==="right"),c&2&&D(e,"wrong",i[1]==="wrong")},i:v,o:v,d(i){i&&h(e),r=!1,o()}}}function ye(t,e,n){let{artistName:r,correct:o,index:i}=e;const c=me();function g(){c("message",{index:i})}return t.$$set=f=>{"artistName"in f&&n(0,r=f.artistName),"correct"in f&&n(1,o=f.correct),"index"in f&&n(3,i=f.index)},[r,o,g,i]}class ke extends V{constructor(e){super(),K(this,e,ye,ve,U,{artistName:0,correct:1,index:3})}}const Ee="/assets/wikidata.5cf018e2.svg";function Le(t){let e,n;return{c(){e=k("img"),w(e,"class","loading svelte-7mzcxr"),Q(e.src,n=Ee)||w(e,"src",n),w(e,"alt","Loading")},m(r,o){b(r,e,o)},p:v,i:v,o:v,d(r){r&&h(e)}}}class $e extends V{constructor(e){super(),K(this,e,null,Le,U,{})}}class Ne{constructor(e){this.endpoint=e}query(e){const n=this.endpoint+"?query="+encodeURIComponent(e)+"&ts="+Date.now();return fetch(n,{headers:{Accept:"application/sparql-results+json"}}).then(o=>o.json())}}const se=window.getParameterByName("p1")||"Q40415";console.log(se);const Pe="https://query.wikidata.org/sparql",Ae=`SELECT ?painter ?painterLabel ?painting ?paintingLabel ?image WITH {
  SELECT ?painter ?painting ?image WHERE {
    ?painting wdt:P18 ?image .
    ?painting wdt:P31 wd:Q3305213 . # instance of (P31) painting (Q3305213)
    ?painting wdt:P170 ?painter .   # created by (P170)
    ?painter wdt:P106 wd:Q1028181 . # give me all people with occupation (P106) painter (Q1028181)
    ?painter wdt:P135 wd:${se} .   # who belonged to the this requested movement (P135)
    BIND(MD5(CONCAT(str(?painting),str(RAND()))) as ?random)
  }
  ORDER BY ?random
  LIMIT 5
} AS %results WHERE {
  INCLUDE %results.
  SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }
}`,qe=new Ne(Pe);function te(t,e,n){const r=t.slice();return r[8]=e[n],r[10]=n,r}function Ce(t){let e,n;return{c(){e=k("img"),Q(e.src,n=t[1])||w(e,"src",n),w(e,"alt","A random painting"),w(e,"class","svelte-ztwnzl")},m(r,o){b(r,e,o)},p(r,o){o&2&&!Q(e.src,n=r[1])&&w(e,"src",n)},i:v,o:v,d(r){r&&h(e)}}}function Ie(t){let e,n;return e=new $e({}),{c(){le(e.$$.fragment)},m(r,o){W(e,r,o),n=!0},p:v,i(r){n||(y(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){F(e,r)}}}function ne(t){let e,n,r=t[2].painterLabel.value+"",o,i,c=t[2].paintingLabel.value+"",g,f,a,_;return{c(){e=k("p"),n=k("a"),o=q(r),i=q(` -
      `),g=q(c),a=R(),_=k("p"),_.innerHTML='<button onclick="window.location.reload();"><strong><span class="reload svelte-ztwnzl">\u27F3</span></strong></button>',w(n,"href",f=t[2].painting.value),w(n,"target","_blank")},m(l,d){b(l,e,d),P(e,n),P(n,o),P(n,i),P(n,g),b(l,a,d),b(l,_,d)},p(l,d){d&4&&r!==(r=l[2].painterLabel.value+"")&&j(o,r),d&4&&c!==(c=l[2].paintingLabel.value+"")&&j(g,c),d&4&&f!==(f=l[2].painting.value)&&w(n,"href",f)},d(l){l&&h(e),l&&h(a),l&&h(_)}}}function re(t){let e,n,r;return n=new ke({props:{index:t[10],artistName:t[8].painterLabel.value,correct:t[8].correct}}),n.$on("message",t[5]),{c(){e=k("p"),le(n.$$.fragment)},m(o,i){b(o,e,i),W(n,e,null),r=!0},p(o,i){const c={};i&1&&(c.artistName=o[8].painterLabel.value),i&1&&(c.correct=o[8].correct),n.$set(c)},i(o){r||(y(n.$$.fragment,o),r=!0)},o(o){N(n.$$.fragment,o),r=!1},d(o){o&&h(e),F(n)}}}function Me(t){let e,n,r,o,i,c,g;const f=[Ie,Ce],a=[];function _(s,p){return s[4]?0:1}e=_(t),n=a[e]=f[e](t);let l=t[3]&&ne(t),d=t[0],u=[];for(let s=0;s<d.length;s+=1)u[s]=re(te(t,d,s));const $=s=>N(u[s],1,1,()=>{u[s]=null});return{c(){n.c(),r=R(),l&&l.c(),o=R();for(let s=0;s<u.length;s+=1)u[s].c();i=R(),c=k("p"),c.innerHTML=`Powered by <a href="https://www.wikidata.org/">Wikidata</a>.
  Source code is <a href="https://github.com/dhinus/wikidata-painters/">here</a>.`,w(c,"class","notes svelte-ztwnzl")},m(s,p){a[e].m(s,p),b(s,r,p),l&&l.m(s,p),b(s,o,p);for(let E=0;E<u.length;E+=1)u[E].m(s,p);b(s,i,p),b(s,c,p),g=!0},p(s,[p]){let E=e;if(e=_(s),e===E?a[e].p(s,p):(Z(),N(a[E],1,1,()=>{a[E]=null}),ee(),n=a[e],n?n.p(s,p):(n=a[e]=f[e](s),n.c()),y(n,1),n.m(r.parentNode,r)),s[3]?l?l.p(s,p):(l=ne(s),l.c(),l.m(o.parentNode,o)):l&&(l.d(1),l=null),p&33){d=s[0];let m;for(m=0;m<d.length;m+=1){const Y=te(s,d,m);u[m]?(u[m].p(Y,p),y(u[m],1)):(u[m]=re(Y),u[m].c(),y(u[m],1),u[m].m(i.parentNode,i))}for(Z(),m=d.length;m<u.length;m+=1)$(m);ee()}},i(s){if(!g){y(n);for(let p=0;p<d.length;p+=1)y(u[p]);g=!0}},o(s){N(n),u=u.filter(Boolean);for(let p=0;p<u.length;p+=1)N(u[p]);g=!1},d(s){a[e].d(s),s&&h(r),l&&l.d(s),s&&h(o),ue(u,s),s&&h(i),s&&h(c)}}}function Se(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t)+t)}function De(t,e,n){let r=[],o,i,c,g,f=!0;qe.query(Ae).then(l=>{n(4,f=!1),n(0,r=l.results.bindings),i=Se(0,5),n(2,c=r[i]),n(1,o=c.image.value)});function a(){n(3,g=!0),r.forEach(l=>{l.correct!=="right"&&(l.correct="wrong")})}function _(l){const d=l.detail.index;d===i?(n(0,r[d].correct="right",r),a()):n(0,r[d].correct="wrong",r);const u=r[d].painterLabel.value,$=r[d].painter.value.split("/").pop();window.gotoPage($,u)}return[r,o,c,g,f,_]}class Oe extends V{constructor(e){super(),K(this,e,De,Me,U,{})}}new Oe({target:document.getElementById("app")});
