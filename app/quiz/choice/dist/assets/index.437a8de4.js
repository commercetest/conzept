(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function k(){}function oe(t){return t()}function J(){return Object.create(null)}function D(t){t.forEach(oe)}function ue(t){return typeof t=="function"}function z(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let O;function B(t,e){return O||(O=document.createElement("a")),O.href=e,t===O.href}function fe(t){return Object.keys(t).length===0}function A(t,e){t.appendChild(e)}function b(t,e,n){t.insertBefore(e,n||null)}function h(t){t.parentNode.removeChild(t)}function de(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function E(t){return document.createElement(t)}function I(t){return document.createTextNode(t)}function C(){return I(" ")}function pe(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function y(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function me(t){return Array.from(t.childNodes)}function H(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Q(t,e,n){t.classList[n?"add":"remove"](e)}function _e(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,r,e),i}let S;function M(t){S=t}function ge(){if(!S)throw new Error("Function called outside component initialization");return S}function he(){const t=ge();return(e,n,{cancelable:r=!1}={})=>{const i=t.$$.callbacks[e];if(i){const o=_e(e,n,{cancelable:r});return i.slice().forEach(s=>{s.call(t,o)}),!o.defaultPrevented}return!0}}const q=[],X=[],T=[],Z=[],be=Promise.resolve();let U=!1;function we(){U||(U=!0,be.then(le))}function W(t){T.push(t)}const x=new Set;let R=0;function le(){const t=S;do{for(;R<q.length;){const e=q[R];R++,M(e),ve(e.$$)}for(M(null),q.length=0,R=0;X.length;)X.pop()();for(let e=0;e<T.length;e+=1){const n=T[e];x.has(n)||(x.add(n),n())}T.length=0}while(q.length);for(;Z.length;)Z.pop()();U=!1,x.clear(),M(t)}function ve(t){if(t.fragment!==null){t.update(),D(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(W)}}const j=new Set;let N;function ee(){N={r:0,c:[],p:N}}function te(){N.r||D(N.c),N=N.p}function L(t,e){t&&t.i&&(j.delete(t),t.i(e))}function P(t,e,n,r){if(t&&t.o){if(j.has(t))return;j.add(t),N.c.push(()=>{j.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function se(t){t&&t.c()}function F(t,e,n,r){const{fragment:i,on_mount:o,on_destroy:s,after_update:_}=t.$$;i&&i.m(e,n),r||W(()=>{const a=o.map(oe).filter(ue);s?s.push(...a):D(a),t.$$.on_mount=[]}),_.forEach(W)}function K(t,e){const n=t.$$;n.fragment!==null&&(D(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ye(t,e){t.$$.dirty[0]===-1&&(q.push(t),we(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function V(t,e,n,r,i,o,s,_=[-1]){const a=S;M(t);const u=t.$$={fragment:null,ctx:null,props:o,update:k,not_equal:i,bound:J(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:J(),dirty:_,skip_bound:!1,root:e.target||a.$$.root};s&&s(u.root);let w=!1;if(u.ctx=n?n(t,e.props||{},(c,p,...m)=>{const v=m.length?m[0]:p;return u.ctx&&i(u.ctx[c],u.ctx[c]=v)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](v),w&&ye(t,c)),p}):[],u.update(),w=!0,D(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const c=me(e.target);u.fragment&&u.fragment.l(c),c.forEach(h)}else u.fragment&&u.fragment.c();e.intro&&L(t.$$.fragment),F(t,e.target,e.anchor,e.customElement),le()}M(a)}class Y{$destroy(){K(this,1),this.$destroy=k}$on(e,n){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!fe(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function ke(t){let e,n,r,i;return{c(){e=E("button"),n=I(t[0]),y(e,"class","svelte-n144wh"),Q(e,"right",t[1]==="right"),Q(e,"wrong",t[1]==="wrong")},m(o,s){b(o,e,s),A(e,n),r||(i=pe(e,"click",t[2]),r=!0)},p(o,[s]){s&1&&H(n,o[0]),s&2&&Q(e,"right",o[1]==="right"),s&2&&Q(e,"wrong",o[1]==="wrong")},i:k,o:k,d(o){o&&h(e),r=!1,i()}}}function Ee(t,e,n){let{artistName:r,correct:i,index:o}=e;const s=he();function _(){s("message",{index:o})}return t.$$set=a=>{"artistName"in a&&n(0,r=a.artistName),"correct"in a&&n(1,i=a.correct),"index"in a&&n(3,o=a.index)},[r,i,_,o]}class Le extends Y{constructor(e){super(),V(this,e,Ee,ke,z,{artistName:0,correct:1,index:3})}}const $e="/assets/wikidata.5cf018e2.svg";function Ne(t){let e,n;return{c(){e=E("img"),y(e,"class","loading svelte-7mzcxr"),B(e.src,n=$e)||y(e,"src",n),y(e,"alt","Loading")},m(r,i){b(r,e,i)},p:k,i:k,o:k,d(r){r&&h(e)}}}class Pe extends Y{constructor(e){super(),V(this,e,null,Ne,z,{})}}class Ae{constructor(e){this.endpoint=e}query(e){const n=this.endpoint+"?query="+encodeURIComponent(e)+"&ts="+Date.now();return fetch(n,{headers:{Accept:"application/sparql-results+json"}}).then(i=>i.json())}}const ce=window.getParameterByName("p1")||"Q40415";console.log(ce);const Ce="https://query.wikidata.org/sparql",qe=`SELECT ?painter ?painterLabel ?painting ?paintingLabel ?image WITH {
  SELECT ?painter ?painting ?image WHERE {
    ?painting wdt:P18 ?image .
    ?painting wdt:P31 wd:Q3305213 . # instance of (P31) painting (Q3305213)
    ?painting wdt:P170 ?painter .   # created by (P170)
    ?painter wdt:P106 wd:Q1028181 . # give me all people with occupation (P106) painter (Q1028181)
    ?painter wdt:P135 wd:${ce} .   # who belonged to the impressionist (Q40415) movement (P135)
    BIND(MD5(CONCAT(str(?painting),str(RAND()))) as ?random)
  }
  ORDER BY ?random
  LIMIT 5
} AS %results WHERE {
  INCLUDE %results.
  SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }
}`,Ie=new Ae(Ce);function ne(t,e,n){const r=t.slice();return r[8]=e[n],r[10]=n,r}function Me(t){let e,n;return{c(){e=E("img"),B(e.src,n=t[1])||y(e,"src",n),y(e,"alt","A random painting"),y(e,"class","svelte-1ltrjst")},m(r,i){b(r,e,i)},p(r,i){i&2&&!B(e.src,n=r[1])&&y(e,"src",n)},i:k,o:k,d(r){r&&h(e)}}}function Se(t){let e,n;return e=new Pe({}),{c(){se(e.$$.fragment)},m(r,i){F(e,r,i),n=!0},p:k,i(r){n||(L(e.$$.fragment,r),n=!0)},o(r){P(e.$$.fragment,r),n=!1},d(r){K(e,r)}}}function re(t){let e,n,r=t[2].painterLabel.value+"",i,o,s=t[2].paintingLabel.value+"",_,a,u,w;return{c(){e=E("p"),n=E("a"),i=I(r),o=I(` -
      `),_=I(s),u=C(),w=E("p"),w.innerHTML='<button onclick="window.location.reload();"><strong>\u27F3</strong></button>',y(n,"href",a=t[2].painting.value),y(n,"target","_blank")},m(c,p){b(c,e,p),A(e,n),A(n,i),A(n,o),A(n,_),b(c,u,p),b(c,w,p)},p(c,p){p&4&&r!==(r=c[2].painterLabel.value+"")&&H(i,r),p&4&&s!==(s=c[2].paintingLabel.value+"")&&H(_,s),p&4&&a!==(a=c[2].painting.value)&&y(n,"href",a)},d(c){c&&h(e),c&&h(u),c&&h(w)}}}function ie(t){let e,n,r;return n=new Le({props:{index:t[10],artistName:t[8].painterLabel.value,correct:t[8].correct}}),n.$on("message",t[5]),{c(){e=E("p"),se(n.$$.fragment)},m(i,o){b(i,e,o),F(n,e,null),r=!0},p(i,o){const s={};o&1&&(s.artistName=i[8].painterLabel.value),o&1&&(s.correct=i[8].correct),n.$set(s)},i(i){r||(L(n.$$.fragment,i),r=!0)},o(i){P(n.$$.fragment,i),r=!1},d(i){i&&h(e),K(n)}}}function De(t){let e,n,r,i,o,s,_,a,u;const w=[Se,Me],c=[];function p(l,f){return l[4]?0:1}r=p(t),i=c[r]=w[r](t);let m=t[3]&&re(t),v=t[0],d=[];for(let l=0;l<v.length;l+=1)d[l]=ie(ne(t,v,l));const ae=l=>P(d[l],1,1,()=>{d[l]=null});return{c(){e=E("h1"),e.textContent="?",n=C(),i.c(),o=C(),m&&m.c(),s=C();for(let l=0;l<d.length;l+=1)d[l].c();_=C(),a=E("p"),a.innerHTML=`Powered by <a href="https://www.wikidata.org/">Wikidata</a>.
  Source code is <a href="https://github.com/dhinus/wikidata-painters/">here</a>.`,y(a,"class","notes svelte-1ltrjst")},m(l,f){b(l,e,f),b(l,n,f),c[r].m(l,f),b(l,o,f),m&&m.m(l,f),b(l,s,f);for(let $=0;$<d.length;$+=1)d[$].m(l,f);b(l,_,f),b(l,a,f),u=!0},p(l,[f]){let $=r;if(r=p(l),r===$?c[r].p(l,f):(ee(),P(c[$],1,1,()=>{c[$]=null}),te(),i=c[r],i?i.p(l,f):(i=c[r]=w[r](l),i.c()),L(i,1),i.m(o.parentNode,o)),l[3]?m?m.p(l,f):(m=re(l),m.c(),m.m(s.parentNode,s)):m&&(m.d(1),m=null),f&33){v=l[0];let g;for(g=0;g<v.length;g+=1){const G=ne(l,v,g);d[g]?(d[g].p(G,f),L(d[g],1)):(d[g]=ie(G),d[g].c(),L(d[g],1),d[g].m(_.parentNode,_))}for(ee(),g=v.length;g<d.length;g+=1)ae(g);te()}},i(l){if(!u){L(i);for(let f=0;f<v.length;f+=1)L(d[f]);u=!0}},o(l){P(i),d=d.filter(Boolean);for(let f=0;f<d.length;f+=1)P(d[f]);u=!1},d(l){l&&h(e),l&&h(n),c[r].d(l),l&&h(o),m&&m.d(l),l&&h(s),de(d,l),l&&h(_),l&&h(a)}}}function Oe(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t)+t)}function Qe(t,e,n){let r=[],i,o,s,_,a=!0;Ie.query(qe).then(c=>{n(4,a=!1),n(0,r=c.results.bindings),o=Oe(0,5),n(2,s=r[o]),n(1,i=s.image.value)});function u(){n(3,_=!0),r.forEach(c=>{c.correct!=="right"&&(c.correct="wrong")})}function w(c){const p=c.detail.index;p===o?(n(0,r[p].correct="right",r),u()):n(0,r[p].correct="wrong",r);const m=r[p].painterLabel.value,v=r[p].painter.value.split("/").pop();window.gotoPage(v,m)}return[r,i,s,_,a,w]}class Re extends Y{constructor(e){super(),V(this,e,Qe,De,z,{})}}new Re({target:document.getElementById("app")});
