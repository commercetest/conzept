(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6995],{6224:function(e,t,n){"use strict";var s,i,r=n(6006);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}t.Z=function(e){return r.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),s||(s=r.createElement("defs",null,r.createElement("path",{id:"clear_svg__a",d:"M0 0h16v16H0z"}))),r.createElement("g",null,i||(i=r.createElement("mask",{id:"clear_svg__b",fill:"#fff"},r.createElement("use",{xlinkHref:"#clear_svg__a"}))),r.createElement("g",{mask:"url(#clear_svg__b)"},r.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M1 9.67h8.67l1-9.67H0l1 9.67Z",transform:"translate(2.667 5)"}),r.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M0 0v3.33",transform:"translate(6.667 8.334)"}),r.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M0 0v3.33",transform:"translate(9.334 8.333)"}),r.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"m0 4 5.44-4L8 4",transform:"translate(4 1)"}))))}},6011:function(e,t,n){"use strict";var s,i,r=n(6006);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}t.Z=function(e){return r.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),s||(s=r.createElement("defs",null,r.createElement("path",{id:"copy_svg__a",d:"M0 0h16v16H0z"}))),r.createElement("g",null,i||(i=r.createElement("mask",{id:"copy_svg__b",fill:"#fff"},r.createElement("use",{xlinkHref:"#copy_svg__a"}))),r.createElement("g",{mask:"url(#copy_svg__b)"},r.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M0 2.48V.94C0 .42.42 0 .94 0h8.12c.52 0 .94.42.94.94v8.12c0 .52-.42.94-.94.94H7.51",transform:"translate(4.333 1.667)"}),r.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M.94 0C.42 0 0 .42 0 .94v8.12c0 .52.42.94.94.94h8.12c.52 0 .94-.42.94-.94V.94C10 .42 9.58 0 9.06 0H.94Z",transform:"translate(1.667 4.333)"}))))}},199:function(e,t,n){"use strict";var s,i,r=n(6006);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}t.Z=function(e){return r.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),s||(s=r.createElement("defs",null,r.createElement("path",{id:"edit_svg__a",d:"M0 0h16v16H0z"}))),r.createElement("g",null,i||(i=r.createElement("mask",{id:"edit_svg__b",fill:"#fff"},r.createElement("use",{xlinkHref:"#edit_svg__a"}))),r.createElement("g",{mask:"url(#edit_svg__b)"},r.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M2.83 0v3c0 .37-.3.67-.66.67H0",transform:"translate(10.5 11)"}),r.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M10.67 4V.67c0-.37-.3-.67-.67-.67H.67C.3 0 0 .3 0 .67v12c0 .36.3.66.67.66h2",transform:"translate(2.667 1.333)"}),r.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M0 0h4.67",transform:"translate(5.333 5.333)"}),r.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"m0 7 5.67-7",transform:"translate(7.667 7.667)"}),r.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M0 0h2.67",transform:"translate(5.333 8)"}))))}},6995:function(e,t,n){"use strict";n.r(t),n.d(t,{Settings:function(){return W}});var s,i,r=n(9268),l=n(6006),a=n(7378),o=n.n(a),c=n(1913),u=n.n(c),d=n(6816),m=n(5520),p=n(6011),h=n(6224),g=n(199),x=n(3573),v=n(9319),j=n(9255),b=n(914),y=n(2137);function P(){return(P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var C=function(e){return l.createElement("svg",P({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),l.createElement("g",null,s||(s=l.createElement("mask",{id:"connection_svg__b",fill:"#fff"},l.createElement("use",{xlinkHref:"#connection_svg__a"}))),l.createElement("g",{mask:"url(#connection_svg__b)"},l.createElement("path",{style:{fill:"#333",opacity:1},d:"M11.867 4.14c-.914-.907-1.823-.908-2.729-.002l-1 1-.471-.471.471-.472 3.67 3.67-.471.472-.472-.472 1-1c.255-.255.421-.639.499-1.151.094-.624-.072-1.15-.499-1.576zm.941-.945c.744.744 1.035 1.65.874 2.717-.12.802-.412 1.434-.874 1.896l-1 1a.667.667 0 0 1-.943 0l-3.67-3.67a.667.667 0 0 1 0-.943l1-1c.462-.462 1.093-.753 1.892-.874 1.065-.16 1.971.13 2.72.872z"}),l.createElement("path",{style:{fill:"#333",opacity:1},d:"m14.475 2.471-1.67 1.67a.67.67 0 0 1-.727.145.664.664 0 0 1-.299-.986.659.659 0 0 1 .083-.101l1.67-1.67a.664.664 0 0 1 .842-.083.67.67 0 0 1 .283.684.666.666 0 0 1-.182.341zM4.138 11.865c.91.91 1.818.91 2.727 0l1-1 .472.472-.472.471-3.67-3.67.472-.471.471.471-1 1c-.906.906-.905 1.815.002 2.729zm-.945.941c-.742-.748-1.033-1.654-.872-2.719.12-.8.412-1.43.874-1.892l1-1c.26-.26.683-.26.943 0l3.67 3.67c.26.26.26.683 0 .943l-1 1c-.462.462-1.094.753-1.896.874-1.068.161-1.973-.13-2.717-.874z"}),l.createElement("path",{style:{fill:"#333",opacity:1},d:"m7.195 10.192 1.33-1.33a.665.665 0 0 1 1.125.341.665.665 0 0 1-.182.602l-1.33 1.33a.667.667 0 0 1-.943-.943zM1.529 13.532l1.67-1.67a.659.659 0 0 1 .471-.195.666.666 0 0 1 .471 1.138l-1.67 1.67a.667.667 0 0 1-.942-.943zM4.862 7.859l1.33-1.33a.665.665 0 1 1 .943.942l-1.33 1.33a.665.665 0 0 1-1.125-.34.665.665 0 0 1 .182-.602z"}))),i||(i=l.createElement("defs",null,l.createElement("path",{id:"connection_svg__a",d:"M0 0h16v16H0z"}))))},_=n(2416),f=n(3287),T=n.n(f);function k(e){let{onChange:t,title:n,value:s,className:i,min:l,max:a,step:o}=e;return(0,r.jsxs)("div",{className:T()["input-range"]+" ".concat(null!=i?i:""),children:[n||s,(0,r.jsx)("input",{type:"range",title:n,value:s,min:l,max:a,step:o,onChange:t})]})}var S=n(48);function Z(){var e,t,n,s;let i=(0,j.MG)(),a=i.models,[o,c]=(0,l.useState)(!1),[u,d]=(0,l.useState)(i.modelConfig.mlc_endpoint),m=e=>{let t={...i.modelConfig};e(t),i.update(e=>e.modelConfig=t)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.HC,{title:_.ZP.Settings.ModelClientType.Title,children:(0,r.jsxs)(v.Ph,{value:i.modelClientType,onChange:e=>{e.target.value===j._P.WEBLLM?i.update(t=>{t.modelClientType=e.target.value}):e.target.value===j._P.MLCLLM_API&&c(!0)},children:[(0,r.jsx)("option",{value:j._P.WEBLLM,children:_.ZP.Settings.ModelClientType.WebLlm},j._P.WEBLLM),(0,r.jsx)("option",{value:j._P.MLCLLM_API,children:_.ZP.Settings.ModelClientType.MlcLlm},j._P.MLCLLM_API)]})}),i.modelClientType===j._P.WEBLLM&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.HC,{title:_.ZP.Settings.Model,children:(0,r.jsx)(v.Ph,{value:i.modelConfig.model,onChange:e=>{i.selectModel(e.target.value)},children:a.map((e,t)=>(0,r.jsxs)(l.Fragment,{children:[t>0&&e.family!==a[t-1].family&&(0,r.jsx)("hr",{}),(0,r.jsxs)("option",{value:e.name,children:[e.name,e.provider?" (".concat(e.provider,")"):""]})]},t))})}),(0,r.jsx)(v.HC,{title:_.ZP.Settings.Temperature.Title,subTitle:_.ZP.Settings.Temperature.SubTitle,children:(0,r.jsx)(k,{value:null===(e=i.modelConfig.temperature)||void 0===e?void 0:e.toFixed(1),min:"0",max:"1",step:"0.1",onChange:e=>{m(t=>t.temperature=j.Xm.temperature(e.currentTarget.valueAsNumber))}})}),(0,r.jsx)(v.HC,{title:_.ZP.Settings.TopP.Title,subTitle:_.ZP.Settings.TopP.SubTitle,children:(0,r.jsx)(k,{value:(null!==(s=i.modelConfig.top_p)&&void 0!==s?s:1).toFixed(1),min:"0",max:"1",step:"0.1",onChange:e=>{m(t=>t.top_p=j.Xm.top_p(e.currentTarget.valueAsNumber))}})}),(0,r.jsx)(v.HC,{title:_.ZP.Settings.MaxTokens.Title,subTitle:_.ZP.Settings.MaxTokens.SubTitle,children:(0,r.jsx)("input",{type:"number",min:1024,max:512e3,value:i.modelConfig.max_tokens,onChange:e=>m(t=>t.max_tokens=j.Xm.max_tokens(e.currentTarget.valueAsNumber))})}),(0,r.jsx)(v.HC,{title:_.ZP.Settings.PresencePenalty.Title,subTitle:_.ZP.Settings.PresencePenalty.SubTitle,children:(0,r.jsx)(k,{value:null===(t=i.modelConfig.presence_penalty)||void 0===t?void 0:t.toFixed(1),min:"-2",max:"2",step:"0.1",onChange:e=>{m(t=>t.presence_penalty=j.Xm.presence_penalty(e.currentTarget.valueAsNumber))}})}),(0,r.jsx)(v.HC,{title:_.ZP.Settings.FrequencyPenalty.Title,subTitle:_.ZP.Settings.FrequencyPenalty.SubTitle,children:(0,r.jsx)(k,{value:null===(n=i.modelConfig.frequency_penalty)||void 0===n?void 0:n.toFixed(1),min:"-2",max:"2",step:"0.1",onChange:e=>{m(t=>t.frequency_penalty=j.Xm.frequency_penalty(e.currentTarget.valueAsNumber))}})})]}),i.modelClientType===j._P.MLCLLM_API&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.HC,{title:_.ZP.Settings.MlcLlmApi.Connect.Title,subTitle:_.ZP.Settings.MlcLlmApi.Connect.SubTitle,children:(0,r.jsx)(S.h,{icon:(0,r.jsx)(C,{}),text:_.ZP.Settings.MlcLlmApi.Connect.Title,onClick:()=>c(!0),type:"primary"})})," ",(0,r.jsx)(v.HC,{title:_.ZP.Settings.Model,children:(0,r.jsx)(v.Ph,{value:i.modelConfig.model,onChange:e=>{i.selectModel(e.target.value)},children:a.map((e,t)=>(0,r.jsxs)(l.Fragment,{children:[t>0&&e.family!==a[t-1].family&&(0,r.jsx)("hr",{}),(0,r.jsxs)("option",{value:e.name,children:[e.name,e.provider?" (".concat(e.provider,")"):""]})]},t))})})]}),o&&(0,r.jsx)("div",{className:"screen-model-container",children:(0,r.jsx)(v.u_,{title:_.ZP.MlcLLMConnect.Title,onClose:()=>c(!1),actions:[(0,r.jsx)(S.h,{text:_.ZP.UI.Cancel,onClick:()=>{c(!1)},icon:(0,r.jsx)(b.Z,{}),bordered:!0,shadow:!0,tabIndex:0},"cancel"),(0,r.jsx)(S.h,{text:_.ZP.UI.Confirm,type:"primary",onClick:()=>{/^(http:\/\/|https:\/\/).*/i.test(u)?i.update(e=>e.modelConfig.mlc_endpoint=u):i.update(e=>e.modelConfig.mlc_endpoint="http://"+u),c(!1),i.update(e=>{e.modelClientType=j._P.MLCLLM_API})},icon:(0,r.jsx)(y.Z,{}),bordered:!0,shadow:!0,tabIndex:0},"confirm")],children:(0,r.jsx)(v.aV,{children:(0,r.jsx)(v.HC,{title:_.ZP.Settings.MlcLlmApi.Title,subTitle:_.ZP.Settings.MlcLlmApi.SubTitle,children:(0,r.jsx)("input",{type:"text",value:u,onChange:e=>d(e.currentTarget.value)})})})})})]})}var w=n(9881),M=n(2908),E=n(3566),L=n(3686),H=n(7005),N=n(5842),O=n(6598);function A(e){let t=(0,E.f)(),n=t.get(e.id);return n?(0,r.jsx)("div",{className:"screen-model-container",children:(0,r.jsx)(v.u_,{title:_.ZP.Settings.Prompt.EditModal.Title,onClose:e.onClose,actions:[(0,r.jsx)(S.h,{onClick:e.onClose,text:_.ZP.UI.Confirm,bordered:!0},"")],children:(0,r.jsxs)("div",{className:u()["edit-prompt-modal"],children:[(0,r.jsx)("input",{type:"text",value:n.title,readOnly:!n.isUser,className:u()["edit-prompt-title"],onInput:n=>t.updatePrompt(e.id,e=>e.title=n.currentTarget.value)}),(0,r.jsx)(v.II,{value:n.content,readOnly:!n.isUser,className:u()["edit-prompt-content"],rows:10,onInput:n=>t.updatePrompt(e.id,e=>e.content=n.currentTarget.value)})]})})}):null}function D(e){var t;let n=(0,E.f)(),s=n.getUserPrompts(),i=E.o.builtinPrompts,a=s.concat(i),[o,c]=(0,l.useState)(""),[m,j]=(0,l.useState)([]),b=o.length>0?m:a,[y,P]=(0,l.useState)();return(0,l.useEffect)(()=>{if(o.length>0){let e=E.o.search(o);j(e)}else j([])},[o]),(0,r.jsxs)("div",{className:"screen-model-container",children:[(0,r.jsx)(v.u_,{title:_.ZP.Settings.Prompt.Modal.Title,onClose:()=>{var t;return null===(t=e.onClose)||void 0===t?void 0:t.call(e)},actions:[(0,r.jsx)(S.h,{onClick:()=>{let e=n.add({id:(0,N.x0)(),createdAt:Date.now(),title:"Empty Prompt",content:"Empty Prompt Content"});P(e)},icon:(0,r.jsx)(d.Z,{}),bordered:!0,text:_.ZP.Settings.Prompt.Modal.Add},"add")],children:(0,r.jsxs)("div",{className:u()["user-prompt-modal"],children:[(0,r.jsx)("input",{type:"text",className:u()["user-prompt-search"],placeholder:_.ZP.Settings.Prompt.Modal.Search,value:o,onInput:e=>c(e.currentTarget.value)}),(0,r.jsx)("div",{className:u()["user-prompt-list"],children:b.map((e,s)=>(0,r.jsxs)("div",{className:u()["user-prompt-item"],children:[(0,r.jsxs)("div",{className:u()["user-prompt-header"],children:[(0,r.jsx)("div",{className:u()["user-prompt-title"],children:e.title}),(0,r.jsx)("div",{className:u()["user-prompt-content"]+" one-line",children:e.content})]}),(0,r.jsxs)("div",{className:u()["user-prompt-buttons"],children:[e.isUser&&(0,r.jsx)(S.h,{icon:(0,r.jsx)(h.Z,{}),className:u()["user-prompt-button"],onClick:()=>n.remove(e.id)}),e.isUser?(0,r.jsx)(S.h,{icon:(0,r.jsx)(g.Z,{}),className:u()["user-prompt-button"],onClick:()=>P(e.id)}):(0,r.jsx)(S.h,{icon:(0,r.jsx)(x.Z,{}),className:u()["user-prompt-button"],onClick:()=>P(e.id)}),(0,r.jsx)(S.h,{icon:(0,r.jsx)(p.Z,{}),className:u()["user-prompt-button"],onClick:()=>(0,w.vQ)(e.content)})]})]},null!==(t=e.id)&&void 0!==t?t:e.title))})]})}),void 0!==y&&(0,r.jsx)(A,{id:y,onClose:()=>P(void 0)})]})}function I(){let e=(0,j.aK)(),t=(0,j.MG)();return(0,r.jsxs)(v.aV,{children:[(0,r.jsx)(v.HC,{title:_.ZP.Settings.Danger.Reset.Title,subTitle:_.ZP.Settings.Danger.Reset.SubTitle,children:(0,r.jsx)(S.h,{text:_.ZP.Settings.Danger.Reset.Action,onClick:async()=>{await (0,v.i0)(_.ZP.Settings.Danger.Reset.Confirm)&&t.reset()},type:"danger"})}),(0,r.jsx)(v.HC,{title:_.ZP.Settings.Danger.Clear.Title,subTitle:_.ZP.Settings.Danger.Clear.SubTitle,children:(0,r.jsx)(S.h,{text:_.ZP.Settings.Danger.Clear.Action,onClick:async()=>{await (0,v.i0)(_.ZP.Settings.Danger.Clear.Confirm)&&e.clearAllData()},type:"danger"})})]})}function W(){var e,t;let n=(0,H.s0)(),s=(0,j.MG)(),i=s.update,a=(0,l.useContext)(O.J),c=(0,E.f)(),d=E.o.count.builtin,p=null!==(e=c.getUserPrompts().length)&&void 0!==e?e:0,[h,x]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{let e=e=>{"Escape"===e.key&&n(M.y$.Home)};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]),(0,r.jsxs)(L.S,{children:[(0,r.jsxs)("div",{className:"window-header",children:[(0,r.jsxs)("div",{className:"window-header-title",children:[(0,r.jsx)("div",{className:"window-header-main-title",children:_.ZP.Settings.Title}),(0,r.jsx)("div",{className:"window-header-sub-title",children:_.ZP.Settings.SubTitle})]}),(0,r.jsxs)("div",{className:"window-actions",children:[(0,r.jsx)("div",{className:"window-action-button"}),(0,r.jsx)("div",{className:"window-action-button"}),(0,r.jsx)("div",{className:"window-action-button",children:(0,r.jsx)(S.h,{icon:(0,r.jsx)(m.Z,{}),onClick:()=>n(M.y$.Home),bordered:!0})})]})]}),(0,r.jsxs)("div",{className:u().settings,children:[(0,r.jsx)(v.aV,{children:(0,r.jsx)(Z,{})}),(0,r.jsxs)(v.aV,{children:[(0,r.jsx)(v.HC,{title:_.ZP.Settings.InjectSystemPrompts.Title,subTitle:_.ZP.Settings.InjectSystemPrompts.SubTitle,children:(0,r.jsx)("input",{type:"checkbox",checked:s.enableInjectSystemPrompts,onChange:e=>s.update(t=>t.enableInjectSystemPrompts=e.currentTarget.checked)})}),(0,r.jsx)(v.HC,{title:_.ZP.Settings.InputTemplate.Title,subTitle:_.ZP.Settings.InputTemplate.SubTitle,children:(0,r.jsx)("input",{type:"text",value:s.template,onChange:e=>s.update(t=>t.template=e.currentTarget.value)})}),(0,r.jsx)(v.HC,{title:_.ZP.Settings.HistoryCount.Title,subTitle:_.ZP.Settings.HistoryCount.SubTitle,children:(0,r.jsx)(k,{title:s.historyMessageCount.toString(),value:s.historyMessageCount,min:"0",max:"64",step:"1",onChange:e=>s.update(t=>t.historyMessageCount=e.target.valueAsNumber)})}),(0,r.jsx)(v.HC,{title:_.ZP.Settings.CompressThreshold.Title,subTitle:_.ZP.Settings.CompressThreshold.SubTitle,children:(0,r.jsx)("input",{type:"number",min:500,max:4e3,value:s.compressMessageLengthThreshold,onChange:e=>s.update(t=>t.compressMessageLengthThreshold=e.currentTarget.valueAsNumber)})}),(0,r.jsx)(v.HC,{title:_.ZP.Memory.Title,subTitle:_.ZP.Memory.Send,children:(0,r.jsx)("input",{type:"checkbox",checked:s.sendMemory,onChange:e=>s.update(t=>t.sendMemory=e.currentTarget.checked)})})]}),(0,r.jsxs)(v.aV,{children:[(0,r.jsx)(v.HC,{title:_.ZP.Settings.SendKey,children:(0,r.jsx)(v.Ph,{value:s.submitKey,onChange:e=>{i(t=>t.submitKey=e.target.value)},children:Object.values(j.mQ).map(e=>(0,r.jsx)("option",{value:e,children:e},e))})}),(0,r.jsx)(v.HC,{title:_.ZP.Settings.Theme,children:(0,r.jsx)(v.Ph,{value:s.theme,onChange:e=>{i(t=>t.theme=e.target.value)},children:Object.values(j.Q2).map(e=>(0,r.jsx)("option",{value:e,children:e},e))})}),(0,r.jsx)(v.HC,{title:_.ZP.Settings.Lang.Name,children:(0,r.jsx)(v.Ph,{value:(0,_.VQ)(),onChange:e=>{(0,_.t4)(e.target.value)},children:_.DC.map(e=>(0,r.jsx)("option",{value:e,children:_.nW[e]},e))})}),(0,r.jsx)(v.HC,{title:_.ZP.Settings.FontSize.Title,subTitle:_.ZP.Settings.FontSize.SubTitle,children:(0,r.jsx)(k,{title:"".concat(null!==(t=s.fontSize)&&void 0!==t?t:14,"px"),value:s.fontSize,min:"12",max:"40",step:"1",onChange:e=>i(t=>t.fontSize=Number.parseInt(e.currentTarget.value))})}),(0,r.jsx)(v.HC,{title:_.ZP.Settings.AutoGenerateTitle.Title,subTitle:_.ZP.Settings.AutoGenerateTitle.SubTitle,children:(0,r.jsx)("input",{type:"checkbox",checked:s.enableAutoGenerateTitle,onChange:e=>i(t=>t.enableAutoGenerateTitle=e.currentTarget.checked)})}),(0,r.jsx)(v.HC,{title:_.ZP.Settings.SendPreviewBubble.Title,subTitle:_.ZP.Settings.SendPreviewBubble.SubTitle,children:(0,r.jsx)("input",{type:"checkbox",checked:s.sendPreviewBubble,onChange:e=>i(t=>t.sendPreviewBubble=e.currentTarget.checked)})})]}),(0,r.jsx)(v.aV,{children:(0,r.jsx)(v.HC,{title:_.ZP.Settings.Template.Builtin.Title,subTitle:_.ZP.Settings.Template.Builtin.SubTitle,children:(0,r.jsx)("input",{type:"checkbox",checked:s.hideBuiltinTemplates,onChange:e=>i(t=>t.hideBuiltinTemplates=e.currentTarget.checked)})})}),(0,r.jsxs)(v.aV,{children:[(0,r.jsx)(v.HC,{title:_.ZP.Settings.Prompt.Disable.Title,subTitle:_.ZP.Settings.Prompt.Disable.SubTitle,children:(0,r.jsx)("input",{type:"checkbox",checked:s.disablePromptHint,onChange:e=>i(t=>t.disablePromptHint=e.currentTarget.checked)})}),(0,r.jsx)(v.HC,{title:_.ZP.Settings.Prompt.List,subTitle:_.ZP.Settings.Prompt.ListCount(d,p),children:(0,r.jsx)(S.h,{icon:(0,r.jsx)(g.Z,{}),text:_.ZP.Settings.Prompt.Edit,onClick:()=>x(!0)})})]}),(0,r.jsxs)(v.aV,{id:M.ym.CustomModel,children:[(0,r.jsx)(v.HC,{title:_.ZP.Settings.CacheType.Title,subTitle:_.ZP.Settings.CacheType.SubTitle,children:(0,r.jsxs)(v.Ph,{value:"cache",onChange:e=>{i(t=>t.cacheType=e.currentTarget.value)},children:[(0,r.jsx)("option",{value:"cache",children:"Cache"},"cache"),(0,r.jsx)("option",{value:"index_db",children:"Index DB"},"index_db")]})}),(0,r.jsx)(v.HC,{title:_.ZP.Settings.LogLevel.Title,subTitle:_.ZP.Settings.LogLevel.SubTitle,children:(0,r.jsx)(k,{title:s.logLevel,value:M.yK[s.logLevel],min:"".concat(Math.min(...Object.values(M.yK))),max:"".concat(Math.max(...Object.values(M.yK))),step:"1",onChange:e=>{var t;let n=null===(t=Object.entries(M.yK).find(t=>{let[n,s]=t;return s===parseInt(e.target.value)}))||void 0===t?void 0:t[0];null==a||a.webllm.engine.setLogLevel(n),o().setLevel(n),i(e=>e.logLevel=n)}})})]}),h&&(0,r.jsx)(D,{onClose:()=>x(!1)}),(0,r.jsx)(I,{})]})]})}},3566:function(e,t,n){"use strict";n.d(t,{f:function(){return c},o:function(){return o}});var s=n(6147),i=n(2416),r=n(2908),l=n(5842),a=n(7537);let o={ready:!1,builtinEngine:new s.Z([],{keys:["title"]}),userEngine:new s.Z([],{keys:["title"]}),count:{builtin:0},allPrompts:[],builtinPrompts:[],init(e,t){this.ready||(this.allPrompts=t.concat(e),this.builtinPrompts=e.slice(),this.builtinEngine.setCollection(e),this.userEngine.setCollection(t),this.ready=!0)},remove(e){this.userEngine.remove(t=>t.id===e)},add(e){this.userEngine.add(e)},search(e){let t=this.userEngine.search(e),n=this.builtinEngine.search(e);return t.concat(n).map(e=>e.item)}},c=(0,a.D)({counter:0,prompts:{}},(e,t)=>({add(n){let s=t().prompts;return n.id=(0,l.x0)(),n.isUser=!0,n.createdAt=Date.now(),s[n.id]=n,e(()=>({prompts:s})),n.id},get(e){let n=t().prompts[e];return n||o.builtinPrompts.find(t=>t.id===e)},remove(n){let s=t().prompts;delete s[n],Object.entries(s).some(e=>{let[t,i]=e;return i.id===n&&(delete s[t],!0)}),o.remove(n),e(()=>({prompts:s,counter:t().counter+1}))},getUserPrompts(){var e;let n=Object.values(null!==(e=t().prompts)&&void 0!==e?e:{});return n.sort((e,t)=>t.id&&e.id?t.createdAt-e.createdAt:0),n},updatePrompt(n,s){var i;let r=null!==(i=t().prompts[n])&&void 0!==i?i:{title:"",content:"",id:n};o.remove(n),s(r);let l=t().prompts;l[n]=r,e(()=>({prompts:l})),o.add(r)},search(e){return 0===e.length?this.getUserPrompts().concat(o.builtinPrompts):o.search(e)}}),{name:r.KJ.Prompt,onRehydrateStorage(e){fetch("./prompts.json").then(e=>e.json()).then(e=>{var t;let n=[e.en,e.cn];"cn"===(0,i.VQ)()&&(n=n.reverse());let s=n.map(e=>e.map(e=>{let[t,n]=e;return{id:(0,l.x0)(),title:t,content:n,createdAt:Date.now()}})),r=null!==(t=c.getState().getUserPrompts())&&void 0!==t?t:[],a=s.reduce((e,t)=>e.concat(t),[]).filter(e=>!!e.title&&!!e.content);o.count.builtin=e.en.length+e.cn.length,o.init(a,r)})}})},3287:function(e){e.exports={"input-range":"input-range_input-range__SuxRd"}},1913:function(e){e.exports={settings:"settings_settings__427bK",avatar:"settings_avatar__jO3Wv","edit-prompt-modal":"settings_edit-prompt-modal__iP1gi","edit-prompt-title":"settings_edit-prompt-title__mq8os","edit-prompt-content":"settings_edit-prompt-content__9i9Y_","user-prompt-modal":"settings_user-prompt-modal__YWssH","user-prompt-search":"settings_user-prompt-search__kskD_","user-prompt-list":"settings_user-prompt-list__BrWRy","user-prompt-item":"settings_user-prompt-item__kh_6Q","user-prompt-header":"settings_user-prompt-header__MBMAf","user-prompt-title":"settings_user-prompt-title__BpRs1","user-prompt-content":"settings_user-prompt-content__CxL3R","user-prompt-buttons":"settings_user-prompt-buttons__y5Hf_","user-prompt-button":"settings_user-prompt-button__efhSx"}}}]);