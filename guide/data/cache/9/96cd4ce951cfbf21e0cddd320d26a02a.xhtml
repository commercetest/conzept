
<h1 class="sectionedit1" id="installation">installation</h1>
<div class="level1">

<p>
This page describes how to install, maintain and develop Conzept on your own system(s).
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;installation&quot;,&quot;hid&quot;:&quot;installation&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-117&quot;} -->
<h2 class="sectionedit2" id="step_1get_the_conzept_source">step 1: Get the Conzept source</h2>
<div class="level2">
<pre class="code">sudo apt install -y git unzip</pre>
<pre class="code">git clone --depth 1 --branch 2023.07 https://github.com/waldenn/conzept.git</pre>
<pre class="code">cd conzept</pre>
<pre class="code">cp settings.conf.example settings.conf</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;step 1: Get the Conzept source&quot;,&quot;hid&quot;:&quot;step_1get_the_conzept_source&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;118-373&quot;} -->
<h2 class="sectionedit3" id="step_2configure_conzept">step 2: Configure Conzept</h2>
<div class="level2">

<p>
Now edit the Conzept settings file for your system. The available settings are described <a href="/guide/configuration" class="wikilink1" title="configuration" data-wiki-id="configuration">here</a>.
</p>

<p>
You must set the “<strong>CONZEPT_HOSTNAME</strong>” and “<strong>CONZEPT_EMAIL</strong>” (required for the HTTPS certificate).
</p>
<pre class="code">vi settings.conf</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;step 2: Configure Conzept&quot;,&quot;hid&quot;:&quot;step_2configure_conzept&quot;,&quot;codeblockOffset&quot;:4,&quot;secid&quot;:3,&quot;range&quot;:&quot;374-660&quot;} -->
<h2 class="sectionedit4" id="step_3install_docker">step 3: Install docker</h2>
<div class="level2">
<div class="thumb2 tright"><div class="thumbinner"><a href="/guide/_media/docker_logo.png" class="media" target="_blank" title="docker_logo.png" rel="noopener"><img src="/guide/_media/docker_logo.png?w=1202&amp;h=309&amp;tok=edccda" class="mediabox2" alt="" width="1202" height="309" /></a><div class="thumbcaption" style="max-width: 1196px">Docker logo</div></div></div><pre class="code">./docker_install.sh</pre>

<p>
[ NOTE: <strong><em class="u">You now need to logout and then login again after running this script</em></strong>, to make sure the group permission are active. ]
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;step 3: Install docker&quot;,&quot;hid&quot;:&quot;step_3install_docker&quot;,&quot;codeblockOffset&quot;:5,&quot;secid&quot;:4,&quot;range&quot;:&quot;661-911&quot;} -->
<h2 class="sectionedit5" id="step_4build_the_docker_image">step 4: Build the docker image</h2>
<div class="level2">

<p>
Go to the Conzept directory:
</p>
<pre class="code">cd conzept</pre>

<p>
Build the Conzept docker image:
</p>
<pre class="code">docker-compose build</pre>

<p>
Run the docker image (with a correct HTTPs certificate)
</p>
<pre class="code">sudo ./init-https.sh</pre>

<p>
Alternatively, you can build <em>and</em> run the Conzept docker-image in one step:
</p>
<pre class="code">docker-compose up -d</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;step 4: Build the docker image&quot;,&quot;hid&quot;:&quot;step_4build_the_docker_image&quot;,&quot;codeblockOffset&quot;:6,&quot;secid&quot;:5,&quot;range&quot;:&quot;912-1281&quot;} -->
<h2 class="sectionedit6" id="docker-based_development">docker-based development</h2>
<div class="level2">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;docker-based development&quot;,&quot;hid&quot;:&quot;docker-based_development&quot;,&quot;codeblockOffset&quot;:10,&quot;secid&quot;:6,&quot;range&quot;:&quot;1282-1319&quot;} -->
<h3 class="sectionedit7" id="local_development">local development</h3>
<div class="level3">

<p>
[ TODO ]
</p>
<ul>
<li class="level1"><div class="li"> map app:/var/www/html/app</div>
</li>
<li class="level1"><div class="li"> docker build</div>
</li>
<li class="level1"><div class="li"> docker up</div>
</li>
<li class="level1"><div class="li"> change staging to “1” “init-https.sh”</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;local development&quot;,&quot;hid&quot;:&quot;local_development&quot;,&quot;codeblockOffset&quot;:10,&quot;secid&quot;:7,&quot;range&quot;:&quot;1320-1462&quot;} -->
<h3 class="sectionedit8" id="updating_production">updating production</h3>
<div class="level3">

<p>
[ TODO ]
</p>
<ul>
<li class="level1 node"><div class="li"> First commit the changes to Git</div>
<ul>
<li class="level2"><div class="li"> If needed: Set “staging” to “0” in “init-https.sh”</div>
</li>
</ul>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> On the production server:</div>
</li>
</ul>
<pre class="code">git pull</pre>
<ul>
<li class="level1"><div class="li"> TODO: Handle existing settings</div>
</li>
</ul>
<pre class="code">...</pre>
<ul>
<li class="level1"><div class="li"> Rebuild the Docker image:</div>
</li>
</ul>
<pre class="code">docker-compose up -d</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;updating production&quot;,&quot;hid&quot;:&quot;updating_production&quot;,&quot;codeblockOffset&quot;:10,&quot;secid&quot;:8,&quot;range&quot;:&quot;1463-1776&quot;} -->
<h2 class="sectionedit9" id="common_docker_commands">common docker commands</h2>
<div class="level2">
<ul>
<li class="level1 node"><div class="li"> Build an image:</div>
<ul>
<li class="level2"><div class="li"> docker-compose build</div>
</li>
</ul>
</li>
</ul>
<ul>
<li class="level1 node"><div class="li"> Fetch an image:</div>
<ul>
<li class="level2"><div class="li"> docker pull [image-name:image-version]</div>
</li>
</ul>
</li>
</ul>
<ul>
<li class="level1 node"><div class="li"> List installed images:</div>
<ul>
<li class="level2"><div class="li"> docker images</div>
</li>
</ul>
</li>
</ul>
<ul>
<li class="level1 node"><div class="li"> Create a new container (from an image)</div>
<ul>
<li class="level2"><div class="li"> docker run -d –name conzept</div>
</li>
</ul>
</li>
</ul>
<ul>
<li class="level1 node"><div class="li"> Start/stop a container:</div>
<ul>
<li class="level2"><div class="li"> docker stop conzept</div>
</li>
<li class="level2"><div class="li"> docker start conzept</div>
</li>
</ul>
</li>
</ul>
<ul>
<li class="level1 node"><div class="li"> List running containers:</div>
<ul>
<li class="level2"><div class="li"> docker ps</div>
</li>
</ul>
</li>
</ul>
<ul>
<li class="level1 node"><div class="li"> Run a command within a container (note: no data persistence between start/stops):</div>
<ul>
<li class="level2"><div class="li"> docker exec -it conzept /bin/bash</div>
</li>
</ul>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;common docker commands&quot;,&quot;hid&quot;:&quot;common_docker_commands&quot;,&quot;codeblockOffset&quot;:13,&quot;secid&quot;:9,&quot;range&quot;:&quot;1777-&quot;} -->