====== issues ======

===== browser compatibility =====

  * Safari/Webkit browsers: When typing a search, the ENTER-key resets the search term. (Figure out what is the cause of this!)

===== keyboard navigation =====

  * **ULS language-selector** not reachable via the keyboard.

  * Main **bookmark links** are not reachable via the keyboard.

  * **Font-type input-element** does not allow for keyboard-based font-selection (UP / DOWN).

  * **Pane-switching**: Keyboard access to iframe only works from the core-app to the content-pane but not back (something broke this mechanism).

===== touch navigation =====

  * TODO: Note the core app & embedded app parts that fail for touch-interactions.
=====  browser navigation =====

  * **Backwards & Forwards history navigation** has several issues.
    * note: The web standards community is working on improving the [[https://github.com/whatwg/html/pull/8502|browser-history API]], since many other "Single Page Applications" (SPA) are running into the same issues.
    * See also: **[[https://github.com/whatwg/html/pull/8502|App History API]]** (proposal)

  * **Reloading complex-encoded URLs** does not always work, due the mis-encoding of the URL parameters. This is a tricky issue, for which the causes which will need to be carefully studied, tested and fixed. Research what tools could be used to help debug this issue.
    * There is a need to have a better workflow & tooling to help with debugging these URL-issues.
    * Examples: ...

  * Add **persistent-linking to inline-views**
    * When clicked on headline/section fields, set the fragment-parameter in the URL
    * When a URL with a fragment is loaded, upon up the inline-view.
    * Note: Make sure the used IDs are robust and durable.
    * BUG: same ID used multiple times per page. Solution: add field-ID-name to current ID--> update all inline-field-handling code with this prepend:
    <code>
     for each topic-card:
       <details title="europeana_inline" id="europeana_inline_mv-n00"
       <details title="pexels" id="pexels_mv-n00"
       ...
</code>

  * **URL hash handling**
    * Fix the hash-handling conflict between the inline-category widget and Wikipedia ToC clicks.
    * Always reset the hash when needed (eg. when clicking on another topic) (partly fixed)
    * Scroll-position / section alignment issue for Wikipedia ([[https://conze.pt/app/wikipedia/?t=Benin%20City&l=en&voice=en-US&qid=320704&dir=ltr&embedded=#references|example]])

===== mobile usability =====

  * The [[https://swiperjs.com|SwiperJS]] library - used for mobile swiping - is an older, somewhat broken version (page hangs occur between animations). The newer version breaks all rendering (for some reason). Todo: Figure out how to upgrade this library correctly.

  * Cold-startup time (upon first use) is very slow - sometimes more than 10-20 seconds on low-bandwidth networks.

  * The Apple iOS mobile browser needs more UX testing & fixing.

  * The Wikipedia-app needs a "Table of Content" system suited for mobile devices.



===== datasources =====

  * BUG: Fix [[datsources|datasource]]-starvation causing a wrong total result count: [[https://conze.pt/explore/krmo?l=en&t=string&d=wikipedia,wikidata,europeana|total is wrongly modified]], [[https://conze.pt/explore/krmo?l=en&t=string&d=wikipedia,wikidata,europeana|another example]]

===== docker =====

  * Docker-based [[https://github.com/waldenn/conzept/blob/a069bab0996bae8fe1d12b3c65a2348372c2d4df/docker-compose.yml#L24-L26|local-development mappings]] are not producing a working Conzept build (some directories are not found). 

  * [[https://github.com/waldenn/conzept/blob/a069bab0996bae8fe1d12b3c65a2348372c2d4df/conf/nginx-site.conf#L82-L85|Nginx Dokuwiki-media rewrite-rules]] not working for wiki-media paths, causing the wiki-images not to show up.
===== browser extension =====

  * Re-implement the extension with **[[https://developer.chrome.com/docs/extensions/mv3/intro/|Manifest v3]] support** (MV3). This is a requirement for the Chrome extension store.

  * Parsing the JSON-LD on Conzept pages fails (the JSON-LD is correct, as other tools parse it nicely). I've started some research what the best way forward to improve the JSON-LD parser.

  * The entity display works on 3rd-party websites but not on Conze.pt currently: A complication due to the iframe-visibility needed for text-selections, which overwrites sidebar state. I will need to research this issue a bit more to get a good solution, to prevent each iframe from triggering the meta-data parsing, while still allowing text-selection in these same iframes.

===== Wikidata / SPARQL issues =====

  * Difficulty avoiding duplicate items in more complex/stacked SPARQL queries (there are some ways, but it is not easy to generalize to all SPARQL queries). (experiment more with "GROUP BY")
  * Wikidata: claim-statements integration not done yet, because the data-access is more complex when using the "wikibase-sdk" (with claims).
  * Abandoned Wikidata-based tools.

===== various =====

  * Safari/Webkit browsers: GBIF app: country-border-map transform is wrong. Other browser work fine.

